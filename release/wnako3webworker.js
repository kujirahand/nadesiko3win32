/*! For license information please see wnako3webworker.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=227)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(85))},function(t,e,n){var r=n(0),i=n(42),o=n(3),c=n(35),u=n(44),a=n(65),s=i("wks"),f=r.Symbol,l=a?f:f&&f.withoutSetter||c;t.exports=function(t){return o(s,t)||(u&&o(f,t)?s[t]=f[t]:s[t]=l("Symbol."+t)),s[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(0),i=n(28).f,o=n(9),c=n(11),u=n(41),a=n(61),s=n(64);t.exports=function(t,e){var n,f,l,h,p,v=t.target,y=t.global,g=t.stat;if(n=y?r:g?r[v]||u(v,{}):(r[v]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=i(n,f))&&p.value:n[f],!s(y?f:v+(g?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;a(h,l)}(t.sham||l&&l.sham)&&o(h,"sham",!0),c(n,f,h,t)}}},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(8),i=n(59),o=n(6),c=n(26),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(o(t),e=c(e,!0),o(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(8),i=n(7),o=n(17);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(40),i=n(18);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(0),i=n(9),o=n(3),c=n(41),u=n(56),a=n(16),s=a.get,f=a.enforce,l=String(String).split("String");(t.exports=function(t,e,n,u){var a=!!u&&!!u.unsafe,s=!!u&&!!u.enumerable,h=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(a?!h&&t[e]&&(s=!0):delete t[e],s?t[e]=n:i(t,e,n)):s?t[e]=n:c(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||u(this)}))},function(t,e,n){var r=n(18);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(29),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},,function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r,i,o,c=n(91),u=n(0),a=n(4),s=n(9),f=n(3),l=n(25),h=n(22),p=u.WeakMap;if(c){var v=new p,y=v.get,g=v.has,d=v.set;r=function(t,e){return d.call(v,t,e),e},i=function(t){return y.call(v,t)||{}},o=function(t){return g.call(v,t)}}else{var _=l("state");h[_]=!0,r=function(t,e){return s(t,_,e),e},i=function(t){return f(t,_)?t[_]:{}},o=function(t){return f(t,_)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(62),i=n(0),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){"use strict";var r=n(10),i=n(76),o=n(24),c=n(16),u=n(57),a="Array Iterator",s=c.set,f=c.getterFor(a);t.exports=u(Array,"Array",(function(t,e){s(this,{type:a,target:r(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){var r,i=n(6),o=n(86),c=n(43),u=n(22),a=n(81),s=n(55),f=n(25),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"</"+"script>"},v=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;v=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=c.length;n--;)delete v.prototype[c[n]];return v()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[l]=t):n=v(),void 0===e?n:o(n,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(42),i=n(35),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(7).f,i=n(3),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(8),i=n(53),o=n(17),c=n(10),u=n(26),a=n(3),s=n(59),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=c(t),e=u(e,!0),s)try{return f(t,e)}catch(t){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(45),i=n(11),o=n(95);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";var r=n(70).charAt,i=n(16),o=n(57),c="String Iterator",u=i.set,a=i.getterFor(c);o(String,"String",(function(t){u(this,{type:c,string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(63),i=n(43).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(0),i=n(83),o=n(20),c=n(9),u=n(1),a=u("iterator"),s=u("toStringTag"),f=o.values;for(var l in i){var h=r[l],p=h&&h.prototype;if(p){if(p[a]!==f)try{c(p,a,f)}catch(t){p[a]=f}if(p[s]||c(p,s,l),i[l])for(var v in o)if(p[v]!==o[v])try{c(p,v,o[v])}catch(t){p[v]=o[v]}}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){"use strict";var r=n(5),i=n(0),o=n(19),c=n(21),u=n(8),a=n(44),s=n(65),f=n(2),l=n(3),h=n(37),p=n(4),v=n(6),y=n(12),g=n(10),d=n(26),_=n(17),m=n(23),b=n(48),w=n(32),k=n(93),j=n(54),S=n(28),x=n(7),O=n(53),E=n(9),A=n(11),P=n(42),T=n(25),R=n(22),F=n(35),C=n(1),L=n(66),N=n(67),I=n(27),M=n(16),q=n(69).forEach,D=T("hidden"),G="Symbol",J=C("toPrimitive"),V=M.set,U=M.getterFor(G),z=Object.prototype,$=i.Symbol,B=o("JSON","stringify"),H=S.f,W=x.f,X=k.f,K=O.f,Y=P("symbols"),Z=P("op-symbols"),Q=P("string-to-symbol-registry"),tt=P("symbol-to-string-registry"),et=P("wks"),nt=i.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,it=u&&f((function(){return 7!=m(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=H(z,e);r&&delete z[e],W(t,e,n),r&&t!==z&&W(z,e,r)}:W,ot=function(t,e){var n=Y[t]=m($.prototype);return V(n,{type:G,tag:t,description:e}),u||(n.description=e),n},ct=s?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof $},ut=function(t,e,n){t===z&&ut(Z,e,n),v(t);var r=d(e,!0);return v(n),l(Y,r)?(n.enumerable?(l(t,D)&&t[D][r]&&(t[D][r]=!1),n=m(n,{enumerable:_(0,!1)})):(l(t,D)||W(t,D,_(1,{})),t[D][r]=!0),it(t,r,n)):W(t,r,n)},at=function(t,e){v(t);var n=g(e),r=b(n).concat(ht(n));return q(r,(function(e){u&&!st.call(n,e)||ut(t,e,n[e])})),t},st=function(t){var e=d(t,!0),n=K.call(this,e);return!(this===z&&l(Y,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(Y,e)||l(this,D)&&this[D][e])||n)},ft=function(t,e){var n=g(t),r=d(e,!0);if(n!==z||!l(Y,r)||l(Z,r)){var i=H(n,r);return!i||!l(Y,r)||l(n,D)&&n[D][r]||(i.enumerable=!0),i}},lt=function(t){var e=X(g(t)),n=[];return q(e,(function(t){l(Y,t)||l(R,t)||n.push(t)})),n},ht=function(t){var e=t===z,n=X(e?Z:g(t)),r=[];return q(n,(function(t){!l(Y,t)||e&&!l(z,t)||r.push(Y[t])})),r};(a||(A(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=F(t),n=function(t){this===z&&n.call(Z,t),l(this,D)&&l(this[D],e)&&(this[D][e]=!1),it(this,e,_(1,t))};return u&&rt&&it(z,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return U(this).tag})),A($,"withoutSetter",(function(t){return ot(F(t),t)})),O.f=st,x.f=ut,S.f=ft,w.f=k.f=lt,j.f=ht,L.f=function(t){return ot(C(t),t)},u&&(W($.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),c||A(z,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:$}),q(b(et),(function(t){N(t)})),r({target:G,stat:!0,forced:!a},{for:function(t){var e=String(t);if(l(Q,e))return Q[e];var n=$(e);return Q[e]=n,tt[n]=e,n},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(l(tt,t))return tt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),r({target:"Object",stat:!0,forced:!a,sham:!u},{create:function(t,e){return void 0===e?m(t):at(m(t),e)},defineProperty:ut,defineProperties:at,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:f((function(){j.f(1)}))},{getOwnPropertySymbols:function(t){return j.f(y(t))}}),B)&&r({target:"JSON",stat:!0,forced:!a||f((function(){var t=$();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(p(e)||void 0!==t)&&!ct(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ct(e))return e}),i[1]=e,B.apply(null,i)}});$.prototype[J]||E($.prototype,J,$.prototype.valueOf),I($,G),R[D]=!0},function(t,e,n){var r=n(15);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(5),i=n(8),o=n(0),c=n(3),u=n(4),a=n(7).f,s=n(61),f=o.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};s(h,f);var p=h.prototype=f.prototype;p.constructor=h;var v=p.toString,y="Symbol(test)"==String(f("test")),g=/^Symbol\((.*)\)[^)]+$/;a(p,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=v.call(t);if(c(l,t))return"";var n=y?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(67)("iterator")},function(t,e,n){var r=n(2),i=n(15),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(0),i=n(9);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(21),i=n(60);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(2);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r={};r[n(1)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(5),i=n(73);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(33);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(63),i=n(43);t.exports=Object.keys||function(t){return r(t,i)}},,function(t,e,n){var r=n(8),i=n(2),o=n(3),c=Object.defineProperty,u={},a=function(t){throw t};t.exports=function(t,e){if(o(u,t))return u[t];e||(e={});var n=[][t],s=!!o(e,"ACCESSORS")&&e.ACCESSORS,f=o(e,0)?e[0]:a,l=o(e,1)?e[1]:void 0;return u[t]=!!n&&!i((function(){if(s&&!r)return!0;var t={length:-1};s?c(t,1,{enumerable:!0,get:a}):t[1]=1,n.call(t,f,l)}))}},function(t,e,n){var r=n(3),i=n(12),o=n(25),c=n(77),u=o("IE_PROTO"),a=Object.prototype;t.exports=c?Object.getPrototypeOf:function(t){return t=i(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";var r=n(11),i=n(6),o=n(2),c=n(97),u="toString",a=RegExp.prototype,s=a.toString,f=o((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),l=s.name!=u;(f||l)&&r(RegExp.prototype,u,(function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in a)?c.call(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(0),i=n(4),o=r.document,c=i(o)&&i(o.createElement);t.exports=function(t){return c?o.createElement(t):{}}},function(t,e,n){var r=n(60),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){"use strict";var r=n(5),i=n(87),o=n(51),c=n(78),u=n(27),a=n(9),s=n(11),f=n(1),l=n(21),h=n(24),p=n(68),v=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,g=f("iterator"),d="keys",_="values",m="entries",b=function(){return this};t.exports=function(t,e,n,f,p,w,k){i(n,e,f);var j,S,x,O=function(t){if(t===p&&R)return R;if(!y&&t in P)return P[t];switch(t){case d:case _:case m:return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",A=!1,P=t.prototype,T=P[g]||P["@@iterator"]||p&&P[p],R=!y&&T||O(p),F="Array"==e&&P.entries||T;if(F&&(j=o(F.call(new t)),v!==Object.prototype&&j.next&&(l||o(j)===v||(c?c(j,v):"function"!=typeof j[g]&&a(j,g,b)),u(j,E,!0,!0),l&&(h[E]=b))),p==_&&T&&T.name!==_&&(A=!0,R=function(){return T.call(this)}),l&&!k||P[g]===R||a(P,g,R),h[e]=R,p)if(S={values:O(_),keys:w?R:O(d),entries:O(m)},k)for(x in S)(y||A||!(x in P))&&s(P,x,S[x]);else r({target:e,proto:!0,forced:y||A},S);return S}},function(t,e,n){var r=n(29),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(8),i=n(2),o=n(55);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(0),i=n(41),o="__core-js_shared__",c=r[o]||i(o,{});t.exports=c},function(t,e,n){var r=n(3),i=n(92),o=n(28),c=n(7);t.exports=function(t,e){for(var n=i(e),u=c.f,a=o.f,s=0;s<n.length;s++){var f=n[s];r(t,f)||u(t,f,a(e,f))}}},function(t,e,n){var r=n(0);t.exports=r},function(t,e,n){var r=n(3),i=n(10),o=n(71).indexOf,c=n(22);t.exports=function(t,e){var n,u=i(t),a=0,s=[];for(n in u)!r(c,n)&&r(u,n)&&s.push(n);for(;e.length>a;)r(u,n=e[a++])&&(~o(s,n)||s.push(n));return s}},function(t,e,n){var r=n(2),i=/#|\.prototype\./,o=function(t,e){var n=u[c(t)];return n==s||n!=a&&("function"==typeof e?r(e):!!e)},c=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=o.data={},a=o.NATIVE="N",s=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(44);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(1);e.f=r},function(t,e,n){var r=n(62),i=n(3),o=n(66),c=n(7).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||c(e,t,{value:o.f(t)})}},function(t,e,n){"use strict";var r,i,o,c=n(51),u=n(9),a=n(3),s=n(1),f=n(21),l=s("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),f||a(r,l)||u(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(47),i=n(40),o=n(12),c=n(13),u=n(74),a=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l;return function(p,v,y,g){for(var d,_,m=o(p),b=i(m),w=r(v,y,3),k=c(b.length),j=0,S=g||u,x=e?S(p,k):n?S(p,0):void 0;k>j;j++)if((h||j in b)&&(_=w(d=b[j],j,m),t))if(e)x[j]=_;else if(_)switch(t){case 3:return!0;case 5:return d;case 6:return j;case 2:a.call(x,d)}else if(f)return!1;return l?-1:s||f?f:x}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},function(t,e,n){var r=n(29),i=n(18),o=function(t){return function(e,n){var o,c,u=String(i(e)),a=r(n),s=u.length;return a<0||a>=s?t?"":void 0:(o=u.charCodeAt(a))<55296||o>56319||a+1===s||(c=u.charCodeAt(a+1))<56320||c>57343?t?u.charAt(a):o:t?u.slice(a,a+2):c-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var r=n(10),i=n(13),o=n(58),c=function(t){return function(e,n,c){var u,a=r(e),s=i(a.length),f=o(c,s);if(t&&n!=n){for(;s>f;)if((u=a[f++])!=u)return!0}else for(;s>f;f++)if((t||f in a)&&a[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:c(!0),indexOf:c(!1)}},function(t,e,n){var r=n(45),i=n(15),o=n(1)("toStringTag"),c="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:c?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){"use strict";var r,i,o=n(97),c=n(118),u=RegExp.prototype.exec,a=String.prototype.replace,s=u,f=(r=/a/,i=/b*/g,u.call(r,"a"),u.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=c.UNSUPPORTED_Y||c.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(f||h||l)&&(s=function(t){var e,n,r,i,c=this,s=l&&c.sticky,p=o.call(c),v=c.source,y=0,g=t;return s&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,y++),n=new RegExp("^(?:"+v+")",p)),h&&(n=new RegExp("^"+v+"$(?!\\s)",p)),f&&(e=c.lastIndex),r=u.call(s?n:c,g),s?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=c.lastIndex,c.lastIndex+=r[0].length):c.lastIndex=0:f&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),h&&r&&r.length>1&&a.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=s},function(t,e,n){var r=n(4),i=n(37),o=n(1)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){"use strict";var r=n(5),i=n(71).indexOf,o=n(82),c=n(50),u=[].indexOf,a=!!u&&1/[1].indexOf(1,-0)<0,s=o("indexOf"),f=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:a||!s||!f},{indexOf:function(t){return a?u.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1),i=n(23),o=n(7),c=r("unscopables"),u=Array.prototype;null==u[c]&&o.f(u,c,{configurable:!0,value:i(null)}),t.exports=function(t){u[c][t]=!0}},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(6),i=n(94);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){"use strict";var r=n(26),i=n(7),o=n(17);t.exports=function(t,e,n){var c=r(e);c in t?i.f(t,c,o(0,n)):t[c]=n}},function(t,e,n){var r=n(2),i=n(1),o=n(105),c=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r=n(19);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(5),i=n(4),o=n(37),c=n(58),u=n(13),a=n(10),s=n(79),f=n(1),l=n(80),h=n(50),p=l("slice"),v=h("slice",{ACCESSORS:!0,0:0,1:2}),y=f("species"),g=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var n,r,f,l=a(this),h=u(l.length),p=c(t,h),v=c(void 0===e?h:e,h);if(o(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[y])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(l,p,v);for(r=new(void 0===n?Array:n)(d(v-p,0)),f=0;p<v;p++,f++)p in l&&s(r,f,l[p]);return r.length=f,r}})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(8),i=n(7),o=n(6),c=n(48);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=c(e),u=r.length,a=0;u>a;)i.f(t,n=r[a++],e[n]);return t}},function(t,e,n){"use strict";var r=n(68).IteratorPrototype,i=n(23),o=n(17),c=n(27),u=n(24),a=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),c(t,s,!1,!0),u[s]=a,t}},function(t,e,n){var r=n(8),i=n(7).f,o=Function.prototype,c=o.toString,u=/^\s*function ([^ (]*)/,a="name";r&&!(a in o)&&i(o,a,{configurable:!0,get:function(){try{return c.call(this).match(u)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(5),i=n(40),o=n(10),c=n(82),u=[].join,a=i!=Object,s=c("join",",");r({target:"Array",proto:!0,forced:a||!s},{join:function(t){return u.call(o(this),void 0===t?",":t)}})},,function(t,e,n){var r=n(0),i=n(56),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(19),i=n(32),o=n(54),c=n(6);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(c(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(10),i=n(32).f,o={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return c&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return c.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(45),i=n(72);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";var r=n(5),i=n(128);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";n(46);var r=n(11),i=n(2),o=n(1),c=n(73),u=n(9),a=o("species"),s=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=o("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var v=o(t),y=!i((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),g=y&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[a]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!y||!g||"replace"===t&&(!s||!f||h)||"split"===t&&!p){var d=/./[v],_=n(v,""[t],(function(t,e,n,r,i){return e.exec===c?y&&!i?{done:!0,value:d.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),m=_[0],b=_[1];r(String.prototype,t,m),r(RegExp.prototype,v,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}l&&u(RegExp.prototype[v],"sham",!0)}},function(t,e,n){"use strict";var r=n(70).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(15),i=n(73);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(5),i=n(121);r({target:"Array",stat:!0,forced:!n(114)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(98),i=n(6),o=n(12),c=n(13),u=n(29),a=n(18),s=n(99),f=n(100),l=Math.max,h=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,d=r.REPLACE_KEEPS_$0,_=g?"$":"$0";return[function(n,r){var i=a(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!g&&d||"string"==typeof r&&-1===r.indexOf(_)){var o=n(e,t,this,r);if(o.done)return o.value}var a=i(t),p=String(this),v="function"==typeof r;v||(r=String(r));var y=a.global;if(y){var b=a.unicode;a.lastIndex=0}for(var w=[];;){var k=f(a,p);if(null===k)break;if(w.push(k),!y)break;""===String(k[0])&&(a.lastIndex=s(p,c(a.lastIndex),b))}for(var j,S="",x=0,O=0;O<w.length;O++){k=w[O];for(var E=String(k[0]),A=l(h(u(k.index),p.length),0),P=[],T=1;T<k.length;T++)P.push(void 0===(j=k[T])?j:String(j));var R=k.groups;if(v){var F=[E].concat(P,A,p);void 0!==R&&F.push(R);var C=String(r.apply(void 0,F))}else C=m(E,p,A,P,R,r);A>=x&&(S+=p.slice(x,A)+C,x=A+E.length)}return S+p.slice(x)}];function m(t,n,r,i,c,u){var a=r+t.length,s=i.length,f=y;return void 0!==c&&(c=o(c),f=v),e.call(u,f,(function(e,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":u=c[o.slice(1,-1)];break;default:var f=+o;if(0===f)return e;if(f>s){var l=p(f/10);return 0===l?e:l<=s?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):e}u=i[f-1]}return void 0===u?"":u}))}}))},function(t,e,n){var r=n(5),i=n(2),o=n(12),c=n(51),u=n(77);r({target:"Object",stat:!0,forced:i((function(){c(1)})),sham:!u},{getPrototypeOf:function(t){return c(o(t))}})},function(t,e,n){var r=n(72),i=n(24),o=n(1)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r,i,o=n(0),c=n(110),u=o.process,a=u&&u.versions,s=a&&a.v8;s?i=(r=s.split("."))[0]+r[1]:c&&(!(r=c.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=c.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(5),i=n(19),o=n(33),c=n(6),u=n(4),a=n(23),s=n(136),f=n(2),l=i("Reflect","construct"),h=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),p=!f((function(){l((function(){}))})),v=h||p;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){o(t),c(e);var n=arguments.length<3?t:o(arguments[2]);if(p&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var i=n.prototype,f=a(u(i)?i:Object.prototype),v=Function.apply.call(t,f,e);return u(v)?v:f}})},function(t,e,n){"use strict";var r=n(98),i=n(117),o=n(6),c=n(18),u=n(116),a=n(99),s=n(13),f=n(100),l=n(73),h=n(2),p=[].push,v=Math.min,y=4294967295,g=!h((function(){return!RegExp(y,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(c(this)),o=void 0===n?y:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);for(var u,a,s,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=new RegExp(t.source,h+"g");(u=l.call(g,r))&&!((a=g.lastIndex)>v&&(f.push(r.slice(v,u.index)),u.length>1&&u.index<r.length&&p.apply(f,u.slice(1)),s=u[0].length,v=a,f.length>=o));)g.lastIndex===u.index&&g.lastIndex++;return v===r.length?!s&&g.test("")||f.push(""):f.push(r.slice(v)),f.length>o?f.slice(0,o):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=c(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var c=n(r,t,this,i,r!==e);if(c.done)return c.value;var l=o(t),h=String(this),p=u(l,RegExp),d=l.unicode,_=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),m=new p(g?l:"^(?:"+l.source+")",_),b=void 0===i?y:i>>>0;if(0===b)return[];if(0===h.length)return null===f(m,h)?[h]:[];for(var w=0,k=0,j=[];k<h.length;){m.lastIndex=g?k:0;var S,x=f(m,g?h:h.slice(k));if(null===x||(S=v(s(m.lastIndex+(g?0:k)),h.length))===w)k=a(h,k,d);else{if(j.push(h.slice(w,k)),j.length===b)return j;for(var O=1;O<=x.length-1;O++)if(j.push(x[O]),j.length===b)return j;k=w=S}}return j.push(h.slice(w)),j}]}),!g)},function(t,e,n){"use strict";var r=n(98),i=n(6),o=n(13),c=n(18),u=n(99),a=n(100);r("match",1,(function(t,e,n){return[function(e){var n=c(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var c=i(t),s=String(this);if(!c.global)return a(c,s);var f=c.unicode;c.lastIndex=0;for(var l,h=[],p=0;null!==(l=a(c,s));){var v=String(l[0]);h[p]=v,""===v&&(c.lastIndex=u(s,o(c.lastIndex),f)),p++}return 0===p?null:h}]}))},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(19);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(0),i=n(83),o=n(128),c=n(9);for(var u in i){var a=r[u],s=a&&a.prototype;if(s&&s.forEach!==o)try{c(s,"forEach",o)}catch(t){s.forEach=o}}},function(t,e,n){var r=n(1),i=n(24),o=r("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||c[o]===t)}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(1)("iterator"),i=!1;try{var o=0,c={next:function(){return{done:!!o++}},return:function(){i=!0}};c[r]=function(){return this},Array.from(c,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(37),c=n(4),u=n(12),a=n(13),s=n(79),f=n(74),l=n(80),h=n(1),p=n(105),v=h("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",d=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=l("concat"),m=function(t){if(!c(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!d||!_},{concat:function(t){var e,n,r,i,o,c=u(this),l=f(c,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(m(o=-1===e?c:arguments[e])){if(h+(i=a(o.length))>y)throw TypeError(g);for(n=0;n<i;n++,h++)n in o&&s(l,h,o[n])}else{if(h>=y)throw TypeError(g);s(l,h++,o)}return l.length=h,l}})},function(t,e,n){var r=n(6),i=n(33),o=n(1)("species");t.exports=function(t,e){var n,c=r(t).constructor;return void 0===c||null==(n=r(c)[o])?e:i(n)}},function(t,e,n){var r=n(4),i=n(15),o=n(1)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(2);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(11);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(6),i=n(112),o=n(13),c=n(47),u=n(104),a=n(113),s=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,l){var h,p,v,y,g,d,_,m=c(e,n,f?2:1);if(l)h=t;else{if("function"!=typeof(p=u(t)))throw TypeError("Target is not iterable");if(i(p)){for(v=0,y=o(t.length);y>v;v++)if((g=f?m(r(_=t[v])[0],_[1]):m(t[v]))&&g instanceof s)return g;return new s(!1)}h=p.call(t)}for(d=h.next;!(_=d.call(h)).done;)if("object"==typeof(g=a(h,m,_.value,f))&&g&&g instanceof s)return g;return new s(!1)}).stop=function(t){return new s(!0,t)}},function(t,e,n){"use strict";var r=n(47),i=n(12),o=n(113),c=n(112),u=n(13),a=n(79),s=n(104);t.exports=function(t){var e,n,f,l,h,p,v=i(t),y="function"==typeof this?this:Array,g=arguments.length,d=g>1?arguments[1]:void 0,_=void 0!==d,m=s(v),b=0;if(_&&(d=r(d,g>2?arguments[2]:void 0,2)),null==m||y==Array&&c(m))for(n=new y(e=u(v.length));e>b;b++)p=_?d(v[b],b):v[b],a(n,b,p);else for(h=(l=m.call(v)).next,n=new y;!(f=h.call(l)).done;b++)p=_?o(l,d,[f.value,b],!0):f.value,a(n,b,p);return n.length=b,n}},function(t,e,n){"use strict";var r,i,o,c,u=n(5),a=n(21),s=n(0),f=n(19),l=n(143),h=n(11),p=n(119),v=n(27),y=n(123),g=n(4),d=n(33),_=n(109),m=n(15),b=n(56),w=n(120),k=n(114),j=n(116),S=n(129).set,x=n(144),O=n(145),E=n(146),A=n(131),P=n(147),T=n(16),R=n(64),F=n(1),C=n(105),L=F("species"),N="Promise",I=T.get,M=T.set,q=T.getterFor(N),D=l,G=s.TypeError,J=s.document,V=s.process,U=f("fetch"),z=A.f,$=z,B="process"==m(V),H=!!(J&&J.createEvent&&s.dispatchEvent),W="unhandledrejection",X=R(N,(function(){if(!(b(D)!==String(D))){if(66===C)return!0;if(!B&&"function"!=typeof PromiseRejectionEvent)return!0}if(a&&!D.prototype.finally)return!0;if(C>=51&&/native code/.test(D))return!1;var t=D.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[L]=e,!(t.then((function(){}))instanceof e)})),K=X||!k((function(t){D.all(t).catch((function(){}))})),Y=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;x((function(){for(var i=e.value,o=1==e.state,c=0;r.length>c;){var u,a,s,f=r[c++],l=o?f.ok:f.fail,h=f.resolve,p=f.reject,v=f.domain;try{l?(o||(2===e.rejection&&nt(t,e),e.rejection=1),!0===l?u=i:(v&&v.enter(),u=l(i),v&&(v.exit(),s=!0)),u===f.promise?p(G("Promise-chain cycle")):(a=Y(u))?a.call(u,h,p):h(u)):p(i)}catch(t){v&&!s&&v.exit(),p(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&tt(t,e)}))}},Q=function(t,e,n){var r,i;H?((r=J.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},(i=s["on"+t])?i(r):t===W&&E("Unhandled promise rejection",n)},tt=function(t,e){S.call(s,(function(){var n,r=e.value;if(et(e)&&(n=P((function(){B?V.emit("unhandledRejection",r,t):Q(W,t,r)})),e.rejection=B||et(e)?2:1,n.error))throw n.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t,e){S.call(s,(function(){B?V.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},rt=function(t,e,n,r){return function(i){t(e,n,i,r)}},it=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Z(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw G("Promise can't be resolved itself");var i=Y(n);i?x((function(){var r={done:!1};try{i.call(n,rt(ot,t,r,e),rt(it,t,r,e))}catch(n){it(t,r,n,e)}})):(e.value=n,e.state=1,Z(t,e,!1))}catch(n){it(t,{done:!1},n,e)}}};X&&(D=function(t){_(this,D,N),d(t),r.call(this);var e=I(this);try{t(rt(ot,this,e),rt(it,this,e))}catch(t){it(this,e,t)}},(r=function(t){M(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(D.prototype,{then:function(t,e){var n=q(this),r=z(j(this,D));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=B?V.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=I(t);this.promise=t,this.resolve=rt(ot,t,e),this.reject=rt(it,t,e)},A.f=z=function(t){return t===D||t===o?new i(t):$(t)},a||"function"!=typeof l||(c=l.prototype.then,h(l.prototype,"then",(function(t,e){var n=this;return new D((function(t,e){c.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof U&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(D,U.apply(s,arguments))}}))),u({global:!0,wrap:!0,forced:X},{Promise:D}),v(D,N,!1,!0),y(N),o=f(N),u({target:N,stat:!0,forced:X},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),u({target:N,stat:!0,forced:a||X},{resolve:function(t){return O(a&&this===o?D:this,t)}}),u({target:N,stat:!0,forced:K},{all:function(t){var e=this,n=z(e),r=n.resolve,i=n.reject,o=P((function(){var n=d(e.resolve),o=[],c=0,u=1;w(t,(function(t){var a=c++,s=!1;o.push(void 0),u++,n.call(e,t).then((function(t){s||(s=!0,o[a]=t,--u||r(o))}),i)})),--u||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=z(e),r=n.reject,i=P((function(){var i=d(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){"use strict";var r=n(19),i=n(7),o=n(1),c=n(8),u=o("species");t.exports=function(t){var e=r(t),n=i.f;c&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(5),i=n(58),o=n(29),c=n(13),u=n(12),a=n(74),s=n(79),f=n(80),l=n(50),h=f("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,y=Math.min,g=9007199254740991,d="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var n,r,f,l,h,p,_=u(this),m=c(_.length),b=i(t,m),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=m-b):(n=w-2,r=y(v(o(e),0),m-b)),m+n-r>g)throw TypeError(d);for(f=a(_,r),l=0;l<r;l++)(h=b+l)in _&&s(f,l,_[h]);if(f.length=r,n<r){for(l=b;l<m-r;l++)p=l+n,(h=l+r)in _?_[p]=_[h]:delete _[p];for(l=m;l>m-r+n;l--)delete _[l-1]}else if(n>r)for(l=m-r;l>b;l--)p=l+n-1,(h=l+r-1)in _?_[p]=_[h]:delete _[p];for(l=0;l<n;l++)_[l+b]=arguments[l+2];return _.length=m-r+n,f}})},function(t,e,n){var r=n(4),i=n(78);t.exports=function(t,e,n){var o,c;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(c=o.prototype)&&c!==n.prototype&&i(t,c),t}},function(t,e,n){"use strict";var r=n(138),i=n(139);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function c(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,a=c(t),s=1;s<arguments.length;s++){for(var f in n=Object(arguments[s]))i.call(n,f)&&(a[f]=n[f]);if(r){u=r(n);for(var l=0;l<u.length;l++)o.call(n,u[l])&&(a[u[l]]=n[u[l]])}}return a}},function(t,e,n){"use strict";var r=n(69).forEach,i=n(82),o=n(50),c=i("forEach"),u=o("forEach");t.exports=c&&u?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r,i,o,c=n(0),u=n(2),a=n(15),s=n(47),f=n(81),l=n(55),h=n(130),p=c.location,v=c.setImmediate,y=c.clearImmediate,g=c.process,d=c.MessageChannel,_=c.Dispatch,m=0,b={},w="onreadystatechange",k=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},j=function(t){return function(){k(t)}},S=function(t){k(t.data)},x=function(t){c.postMessage(t+"",p.protocol+"//"+p.host)};v&&y||(v=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(m),m},y=function(t){delete b[t]},"process"==a(g)?r=function(t){g.nextTick(j(t))}:_&&_.now?r=function(t){_.now(j(t))}:d&&!h?(o=(i=new d).port2,i.port1.onmessage=S,r=s(o.postMessage,o,1)):!c.addEventListener||"function"!=typeof postMessage||c.importScripts||u(x)?r=w in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),k(t)}}:function(t){setTimeout(j(t),0)}:(r=x,c.addEventListener("message",S,!1))),t.exports={set:v,clear:y}},function(t,e,n){var r=n(110);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(33),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(8),i=n(2),o=n(48),c=n(54),u=n(53),a=n(12),s=n(40),f=Object.assign,l=Object.defineProperty;t.exports=!f||i((function(){if(r&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||o(f({},e)).join("")!=i}))?function(t,e){for(var n=a(t),i=arguments.length,f=1,l=c.f,h=u.f;i>f;)for(var p,v=s(arguments[f++]),y=l?o(v).concat(l(v)):o(v),g=y.length,d=0;g>d;)p=y[d++],r&&!h.call(v,p)||(n[p]=v[p]);return n}:f},function(t,e,n){var r=n(22),i=n(4),o=n(3),c=n(7).f,u=n(35),a=n(150),s=u("meta"),f=0,l=Object.isExtensible||function(){return!0},h=function(t){c(t,s,{value:{objectID:"O"+ ++f,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,s)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[s].objectID},getWeakData:function(t,e){if(!o(t,s)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[s].weakData},onFreeze:function(t){return a&&p.REQUIRED&&l(t)&&!o(t,s)&&h(t),t}};r[s]=!0},function(t,e,n){"use strict";var r=n(5),i=n(69).map,o=n(80),c=n(50),u=o("map"),a=c("map");r({target:"Array",proto:!0,forced:!u||!a},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e){t.exports={version:"3.1.12",major:3,minor:1,patch:12}},function(t,e,n){"use strict";var r=n(33),i=n(4),o=[].slice,c={},u=function(t,e,n){if(!(e in c)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";c[e]=Function("C,a","return new C("+r.join(",")+")")}return c[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),c=function(){var r=n.concat(o.call(arguments));return this instanceof c?u(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(c.prototype=e.prototype),c}},function(t,e,n){var r=n(5),i=n(132);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,n){"use strict";var r=n(5),i=n(0),o=n(64),c=n(11),u=n(133),a=n(120),s=n(109),f=n(4),l=n(2),h=n(114),p=n(27),v=n(125);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),d=y?"set":"add",_=i[t],m=_&&_.prototype,b=_,w={},k=function(t){var e=m[t];c(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof _||!(g||m.forEach&&!l((function(){(new _).entries().next()})))))b=n.getConstructor(e,t,y,d),u.REQUIRED=!0;else if(o(t,!0)){var j=new b,S=j[d](g?{}:-0,1)!=j,x=l((function(){j.has(1)})),O=h((function(t){new _(t)})),E=!g&&l((function(){for(var t=new _,e=5;e--;)t[d](e,e);return!t.has(-0)}));O||((b=e((function(e,n){s(e,b,t);var r=v(new _,e,b);return null!=n&&a(n,r[d],r,y),r}))).prototype=m,m.constructor=b),(x||E)&&(k("delete"),k("has"),y&&k("get")),(E||S)&&k(d),g&&m.clear&&delete m.clear}return w[t]=b,r({global:!0,forced:b!=_},w),p(b,t),g||n.setStrong(b,t,y),b}},function(t,e,n){"use strict";var r=n(7).f,i=n(23),o=n(119),c=n(47),u=n(109),a=n(120),s=n(57),f=n(123),l=n(8),h=n(133).fastKey,p=n(16),v=p.set,y=p.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t((function(t,r){u(t,f,e),v(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=r&&a(r,t[s],t,n)})),p=y(e),g=function(t,e,n){var r,i,o=p(t),c=d(t,e);return c?c.value=n:(o.last=c={index:i=h(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=c),r&&(r.next=c),l?o.size++:t.size++,"F"!==i&&(o.index[i]=c)),t},d=function(t,e){var n,r=p(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(f.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=this,n=p(e),r=d(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),l?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=p(this),r=c(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!d(this,t)}}),o(f.prototype,n?{get:function(t){var e=d(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=y(e),o=y(r);s(t,e,(function(t,e){v(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(5),i=n(33),o=n(12),c=n(2),u=n(82),a=[],s=a.sort,f=c((function(){a.sort(void 0)})),l=c((function(){a.sort(null)})),h=u("sort");r({target:"Array",proto:!0,forced:f||!l||!h},{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,t)})(t)}function c(t,e,n){return(c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(36),n(38),n(39),n(75),n(20),n(126),n(103),n(30),n(106),n(52),n(31),n(34);var f=function(t){"use strict";!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(r,t);var e,n=(e=r,function(){var t,n=s(e);if(u()){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return i(this,t)});function r(t,e){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var c="[実行時エラー]";if(e&&e.__v0&&e.__v0.line){var u=e.__v0.line+1;t=c+"("+u+") "+t,o=n.call(this,t,u)}else t=c+" "+t,o=n.call(this,t);return i(o)}return r}(o(Error));t.exports=f},function(t,e,n){"use strict";(function(e){var r=n(127);function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var c=n(184),u=Object.prototype.hasOwnProperty,a=Array.prototype.slice,s="foo"===function(){}.name;function f(t){return Object.prototype.toString.call(t)}function l(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=_,p=/\s*function\s+([^\(\s]*)\s*/;function v(t){if(c.isFunction(t)){if(s)return t.name;var e=t.toString().match(p);return e&&e[1]}}function y(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(s||!c.isFunction(t))return c.inspect(t);var e=v(t);return"[Function"+(e?": "+e:"")+"]"}function d(t,e,n,r,i){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function _(t,e){t||d(t,!0,e,"==",h.ok)}function m(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(c.isDate(t)&&c.isDate(e))return t.getTime()===e.getTime();if(c.isRegExp(t)&&c.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&f(t)===f(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var u=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(c.isPrimitive(t)||c.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=b(t),o=b(e);if(i&&!o||!i&&o)return!1;if(i)return m(t=a.call(t),e=a.call(e),n);var u,s,f=j(t),l=j(e);if(f.length!==l.length)return!1;for(f.sort(),l.sort(),s=f.length-1;s>=0;s--)if(f[s]!==l[s])return!1;for(s=f.length-1;s>=0;s--)if(!m(t[u=f[s]],e[u],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function k(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&d(i,n,"Missing expected exception"+r);var o="string"==typeof r,u=!t&&i&&!n;if((!t&&c.isError(i)&&o&&w(i,n)||u)&&d(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return y(g(t.actual),128)+" "+t.operator+" "+y(g(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||d;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=v(e),o=r.indexOf("\n"+i);if(o>=0){var c=r.indexOf("\n",o+1);r=r.substring(c+1)}this.stack=r}}},c.inherits(h.AssertionError,Error),h.fail=d,h.ok=_,h.equal=function(t,e,n){t!=e&&d(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&d(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){m(t,e,!1)||d(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){m(t,e,!0)||d(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){m(t,e,!1)&&d(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){m(e,n,!0)&&d(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&d(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&d(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){k(!0,t,e,n)},h.doesNotThrow=function(t,e,n){k(!1,t,e,n)},h.ifError=function(t){if(t)throw t},h.strict=r((function t(e,n){e||d(e,!0,n,"==",t)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var j=Object.keys||function(t){var e=[];for(var n in t)u.call(t,n)&&e.push(n);return e}}).call(this,n(85))},function(t,e,n){var r=n(0);t.exports=r.Promise},function(t,e,n){var r,i,o,c,u,a,s,f,l=n(0),h=n(28).f,p=n(15),v=n(129).set,y=n(130),g=l.MutationObserver||l.WebKitMutationObserver,d=l.process,_=l.Promise,m="process"==p(d),b=h(l,"queueMicrotask"),w=b&&b.value;w||(r=function(){var t,e;for(m&&(t=d.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?c():o=void 0,t}}o=void 0,t&&t.enter()},m?c=function(){d.nextTick(r)}:g&&!y?(u=!0,a=document.createTextNode(""),new g(r).observe(a,{characterData:!0}),c=function(){a.data=u=!u}):_&&_.resolve?(s=_.resolve(void 0),f=s.then,c=function(){f.call(s,r)}):c=function(){v.call(l,r)}),t.exports=w||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,c()),o=e}},function(t,e,n){var r=n(6),i=n(4),o=n(131);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(5),i=n(71).includes,o=n(76);r({target:"Array",proto:!0,forced:!n(50)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var r=n(138),i=n(139);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){var r=n(2);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function a(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),c=new E(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var a=s(t,e,n);if("normal"===a.type){if(r=n.done?p:l,a.arg===v)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=p,n.method="throw",n.arg=a.arg)}}}(t,n,c),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",v={};function y(){}function g(){}function d(){}var _={};_[o]=function(){return this};var m=Object.getPrototypeOf,b=m&&m(m(A([])));b&&b!==n&&r.call(b,o)&&(_=b);var w=d.prototype=y.prototype=Object.create(_);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function j(t,e){function n(i,o,c,u){var a=s(t[i],t,o);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(l).then((function(t){f.value=t,c(f)}),(function(t){return n("throw",t,c,u)}))}u(a.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=s(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function A(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,c=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return c.next=c}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=w.constructor=d,d.constructor=g,d[u]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(j.prototype),j.prototype[c]=function(){return this},t.AsyncIterator=j,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var c=new j(a(e,n,r,i),o);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},k(w),w[u]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],u=c.completion;if("root"===c.tryLoc)return i("end");if(c.tryLoc<=this.prev){var a=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(a&&s){if(this.prev<c.catchLoc)return i(c.catchLoc,!0);if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else if(a){if(this.prev<c.catchLoc)return i(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return i(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports={opPriority:{and:1,or:1,eq:2,noteq:2,gt:2,gteq:2,lt:2,lteq:2,"&":3,"+":4,"-":4,shift_l:4,shift_r:4,shift_r0:4,"*":5,"/":5,"%":5,"^":6},keizokuJosi:["いて","えて","きて","けて","して","って","にて","みて","めて","ねて","には"]}},function(t,e,n){n(96),n(89),n(140),n(154),n(46),n(52);var r=["について","くらい","なのか","までを","までの","とは","から","まで","だけ","より","ほど","など","いて","えて","きて","けて","して","って","にて","みて","めて","ねて","では","には","は~","は","を","に","へ","で","と","が","の","による"],i={};["でなければ","ならば","なら","たら","れば"].forEach((function(t){r.push(t),i[t]=!0})),r.sort((function(t,e){return e.length-t.length}));var o=new RegExp("^("+r.join("|")+")");t.exports={tarareba:i,josiRE:o}},function(t,e,n){var r=n(8),i=n(0),o=n(64),c=n(125),u=n(7).f,a=n(32).f,s=n(117),f=n(97),l=n(118),h=n(11),p=n(2),v=n(16).set,y=n(123),g=n(1)("match"),d=i.RegExp,_=d.prototype,m=/a/g,b=/a/g,w=new d(m)!==m,k=l.UNSUPPORTED_Y;if(r&&o("RegExp",!w||k||p((function(){return b[g]=!1,d(m)!=m||d(b)==b||"/a/i"!=d(m,"i")})))){for(var j=function(t,e){var n,r=this instanceof j,i=s(t),o=void 0===e;if(!r&&i&&t.constructor===j&&o)return t;w?i&&!o&&(t=t.source):t instanceof j&&(o&&(e=f.call(t)),t=t.source),k&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var u=c(w?new d(t,e):d(t,e),r?this:_,j);return k&&n&&v(u,{sticky:n}),u},S=function(t){t in j||u(j,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},x=a(d),O=0;x.length>O;)S(x[O++]);_.constructor=j,j.prototype=_,h(i,"RegExp",j)}y("RegExp")},function(t,e,n){"use strict";var r=n(8),i=n(0),o=n(64),c=n(11),u=n(3),a=n(15),s=n(125),f=n(26),l=n(2),h=n(23),p=n(32).f,v=n(28).f,y=n(7).f,g=n(156).trim,d="Number",_=i.Number,m=_.prototype,b=a(h(m))==d,w=function(t){var e,n,r,i,o,c,u,a,s=f(t,!1);if("string"==typeof s&&s.length>2)if(43===(e=(s=g(s)).charCodeAt(0))||45===e){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+s}for(c=(o=s.slice(2)).length,u=0;u<c;u++)if((a=o.charCodeAt(u))<48||a>i)return NaN;return parseInt(o,r)}return+s};if(o(d,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var k,j=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof j&&(b?l((function(){m.valueOf.call(n)})):a(n)!=d)?s(new _(w(e)),n,j):w(e)},S=r?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;S.length>x;x++)u(_,k=S[x])&&!u(j,k)&&y(j,k,v(_,k));j.prototype=m,m.constructor=j,c(i,d,j)}},function(t,e,n){var r=n(18),i="["+n(157)+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(5),i=n(70).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},function(t,e,n){var r=n(5),i=n(58),o=String.fromCharCode,c=String.fromCodePoint;r({target:"String",stat:!0,forced:!!c&&1!=c.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,c=0;r>c;){if(e=+arguments[c++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(5),i=n(69).filter,o=n(80),c=n(50),u=o("filter"),a=c("filter");r({target:"Array",proto:!0,forced:!u||!a},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(5),i=n(162).left,o=n(82),c=n(50),u=o("reduce"),a=c("reduce",{1:0});r({target:"Array",proto:!0,forced:!u||!a},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(33),i=n(12),o=n(40),c=n(13),u=function(t){return function(e,n,u,a){r(n);var s=i(e),f=o(s),l=c(s.length),h=t?l-1:0,p=t?-1:1;if(u<2)for(;;){if(h in f){a=f[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in f&&(a=n(a,f[h],h,s));return a}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){"use strict";var r=n(5),i=n(37),o=[].reverse,c=[1,2];r({target:"Array",proto:!0,forced:String(c)===String(c.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(t){r=c}}();var a,s=[],f=!1,l=-1;function h(){f&&a&&(f=!1,a.length?s=a.concat(s):l=-1,s.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=s.length;e;){for(a=s,s=[];++l<e;)a&&a[l].run();l=-1,e=s.length}a=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new v(t,e)),1!==s.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n,r,i,o,c){try{var u=t[o](c),a=u.value}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){u(o,r,i,c,a,"next",t)}function a(t){u(o,r,i,c,a,"throw",t)}c(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(36),n(38),n(39),n(115),n(101),n(148),n(20),n(84),n(124),n(88),n(137),n(30),n(122),n(46),n(52),n(149),n(31),n(102),n(34),n(151);var f=n(169),l=n(172),h=n(175),p=n(176),v=n(141),y=n(177),g=n(178),d=n(180),_=n(183),m=new h,b=new f,w=new l,k=function(){"use strict";function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.debugAll=!1,this.debug=this.debugAll,this.silent=!0,this.debugParser=this.debugAll,this.debugJSCode=!0,this.debugLexer=this.debugAll,this.filename="inline",this.__varslist=[{},{},{}],this.__self=this,this.__vars=this.__varslist[2],this.__module={},this.funclist={},this.pluginfiles={},this.isSetter=!1,this.commandlist=new Set,this.prepare=m,this.lexer=w,this.parser=b,this.beforeParseCallback=function(t){return t.tokens},this.gen=new p(this),this.addPluginObject("PluginSystem",g),this.addPluginObject("PluginMath",d),this.addPluginObject("PluginAssert",_)}var e,n,c,u,f,l,h,k,j,S,x,O;return e=t,n=[{key:"tokenize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.rawtokenize(t,n,"");return this.converttoken(r,e)}},{key:"tokenizeAsync",value:(O=a(regeneratorRuntime.mark((function t(e,n,r){var i,o,c,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>3&&void 0!==u[3]?u[3]:0,o=this.rawtokenize(e,i,r),!this.beforeParseCallback){t.next=7;break}return c=this.beforeParseCallback({nako3:this,tokens:o,filepath:r}),t.next=6,c;case 6:o=t.sent;case 7:return t.abrupt("return",this.converttoken(o,n));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return O.apply(this,arguments)})},{key:"rawtokenize",value:function(t,e,n){t=y.convert(t);var r=this.prepare.convert(t);return this.lexer.setInput(r,e,n)}},{key:"converttoken",value:function(t,e){return this.lexer.setInput2(t,e)}},{key:"useDebug",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.debug=t}},{key:"reset",value:function(){this.__varslist=[this.__varslist[0],{},{}],this.__v0=this.__varslist[0],this.__v1=this.__varslist[1],this.__vars=this.__varslist[2],this.gen.reset()}},{key:"generate",value:function(t,e){this.gen.registerFunction(t);var n=this.gen.convGen(t,e),r=this.gen.getDefFuncCode(e);return this.debug&&this.debugJSCode&&(console.log("--- generate ---"),console.log(r+n)),r+n}},{key:"parse",value:function(t,e){w.setFuncList(this.funclist),b.setFuncList(this.funclist),b.debug=this.debug,this.parser.filename=e;var n=this.rawtokenize(t,0,e);if(this.beforeParseCallback){var r=this.beforeParseCallback({nako3:this,tokens:n,filepath:e});if(r instanceof Promise)throw new Error("利用している機能の中に、非同期処理が必要なものが含まれています");n=r}for(var o=this.converttoken(n,!0),c=0;c<o.length;c++)"code"===o[c].type&&(o.splice.apply(o,[c,1].concat(i(this.tokenize(o[c].value,!1,o[c].line)))),c--);this.debug&&this.debugLexer&&(console.log("--- lex ---"),console.log(JSON.stringify(o,null,2)));var u=b.parse(o);return this.usedFuncs=this.getUsedFuncs(u),this.debug&&this.debugParser&&(console.log("--- ast ---"),console.log(JSON.stringify(u,null,2))),u}},{key:"parseAsync",value:(x=a(regeneratorRuntime.mark((function t(e,n){var r,o,c,u,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w.setFuncList(this.funclist),b.setFuncList(this.funclist),b.debug=this.debug,this.parser.filename=n,r=this.rawtokenize(e,0,n),!this.beforeParseCallback){t.next=10;break}return o=this.beforeParseCallback({nako3:this,tokens:r,filepath:n}),t.next=9,o;case 9:r=t.sent;case 10:for(c=this.converttoken(r,!0),u=0;u<c.length;u++)"code"===c[u].type&&(c.splice.apply(c,[u,1].concat(i(this.tokenize(c[u].value,!1,c[u].line)))),u--);return this.debug&&this.debugLexer&&(console.log("--- lex ---"),console.log(JSON.stringify(c,null,2))),a=b.parse(c),this.usedFuncs=this.getUsedFuncs(a),this.debug&&this.debugParser&&(console.log("--- ast ---"),console.log(JSON.stringify(a,null,2))),t.abrupt("return",a);case 17:case"end":return t.stop()}}),t,this)}))),function(t,e){return x.apply(this,arguments)})},{key:"getUsedFuncs",value:function(t){var e=[t];for(this.usedFuncs=new Set;e.length>0;){var n=e.pop();null!=n&&null!==n.block&&void 0!==n.block&&this.getUsedAndDefFuncs(e,JSON.parse(JSON.stringify(n.block)))}return this.deleteUnNakoFuncs()}},{key:"getUsedAndDefFuncs",value:function(t,e){for(;e.length>0;){var n=e.pop();null!=n&&this.getUsedAndDefFunc(n,t,e)}}},{key:"getUsedAndDefFunc",value:function(t,e,n){["func","func_pointer"].includes(t.type)&&null!==t.name&&void 0!==t.name&&this.usedFuncs.add(t.name),e.push.apply(e,[t,t.block]),n.push.apply(n,[t.value].concat(t.args))}},{key:"deleteUnNakoFuncs",value:function(){var t,e=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=o(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,c=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}(this.usedFuncs);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.commandlist.has(n)||this.usedFuncs.delete(n)}}catch(t){e.e(t)}finally{e.f()}return this.usedFuncs}},{key:"compile",value:function(t,e,n){var r=this.parse(t,e);return this.generate(r,n)}},{key:"compileAsync",value:(S=a(regeneratorRuntime.mark((function t(e,n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.parseAsync(e,n);case 2:return i=t.sent,t.abrupt("return",this.generate(i,r));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return S.apply(this,arguments)})},{key:"_run",value:function(t,e,n,r){var i={resetLog:n,testOnly:r};return this._runEx(t,e,i)}},{key:"_runEx",value:function(t,e,n){(n=Object.assign({resetEnv:!0,resetLog:!0,testOnly:!1},n)).resetEnv&&this.reset(),n.resetLog&&this.clearLog();var r=this.compile(t,e,n.testOnly);try{this.__varslist[0].line=-1,new Function(r).apply(this)}catch(t){throw this.js=r,t instanceof v?t:new v(t.name+":"+t.message,this)}return this}},{key:"_runAsync",value:(j=a(regeneratorRuntime.mark((function t(e,n,r,i){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={resetLog:r,testOnly:i},t.abrupt("return",this._runExAsync(e,n,o));case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return j.apply(this,arguments)})},{key:"_runExAsync",value:(k=a(regeneratorRuntime.mark((function t(e,n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=Object.assign({resetEnv:!0,resetLog:!0,testOnly:!1},r)).resetEnv&&this.reset(),r.resetLog&&this.clearLog(),t.next=5,this.compileAsync(e,n,r.testOnly);case 5:i=t.sent,t.prev=6,this.__varslist[0].line=-1,new Function(i).apply(this),t.next=20;break;case 12:if(t.prev=12,t.t0=t.catch(6),this.js=i,!(t.t0 instanceof v)){t.next=19;break}throw t.t0;case 19:throw new v(t.t0.name+":"+t.t0.message,this);case 20:return t.abrupt("return",this);case 21:case"end":return t.stop()}}),t,this,[[6,12]])}))),function(t,e,n){return k.apply(this,arguments)})},{key:"runEx",value:function(t,e,n){return this._runEx(t,e,n)}},{key:"runExAsync",value:(h=a(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._runExAsync(e,n,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return h.apply(this,arguments)})},{key:"test",value:function(t,e){return this._runEx(t,e,{testOnly:!0})}},{key:"run",value:function(t,e){return this._runEx(t,e,{resetLog:!1})}},{key:"runReset",value:function(t,e){return this._runEx(t,e,{resetLog:!0})}},{key:"testAsync",value:(l=a(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._runExAsync(e,n,{testOnly:!0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"runAsync",value:(f=a(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._runExAsync(e,n,{resetLog:!1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"runResetAsync",value:(u=a(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._runExAsync(e,n,{resetLog:!0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"clearLog",value:function(){this.__varslist[0]["表示ログ"]=""}},{key:"getVarsList",value:function(){var t=this.gen.getVarsList();return[t[0],t[1],[]]}},{key:"getVarsCode",value:function(){return this.gen.getVarsCode()}},{key:"addPlugin",value:function(t){var e=this,n=this.__varslist[0];void 0===n.meta&&(n.meta={});var r=function(r){var i=t[r];if(e.funclist[r]=i,"func"===i.type)n[r]=function(){try{return i.fn.apply(i,arguments)}catch(t){throw new v("関数『"+r+"』:"+t.name+":"+t.message,e)}};else{if("const"!==i.type&&"var"!==i.type)throw new Error("プラグインの追加でエラー。",null);n[r]=i.value,n.meta[r]={readonly:"const"===i.type}}"初期化"!==r&&e.commandlist.add(r)};for(var i in t)r(i)}},{key:"addPluginObject",value:function(t,e){if(this.__module[t]=e,this.pluginfiles[t]="*","object"===r(e["初期化"])){var n=e["初期化"];delete e["初期化"];var i="!".concat(t,":初期化");e[i]=n,this.gen.used_func[i]=!0}this.addPlugin(e)}},{key:"addPluginFile",value:function(t,e,n){this.addPluginObject(t,n),void 0===this.pluginfiles[t]&&(this.pluginfiles[t]=e)}},{key:"addFunc",value:function(t,e,n){this.funclist[t]={josi:e,fn:n,type:"func"},this.__varslist[0][t]=n}},{key:"setFunc",value:function(t,e,n){this.addFunc(t,e,n)}},{key:"getFunc",value:function(t){return this.funclist[t]}},{key:"log",get:function(){var t=this.__varslist[0]["表示ログ"];return t=t.replace(/\s+$/,"")}}],c=[{key:"getHeader",value:function(){return p.getHeader()}}],n&&s(e.prototype,n),c&&s(e,c),t}();t.exports=k},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,c=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(36),n(38),n(39),n(115),n(96),n(101),n(75),n(20),n(84),n(88),n(103),n(30),n(106),n(46),n(52),n(31),n(108),n(111),n(34);var h=n(152),p=h.opPriority,v=h.keizokuJosi,y=n(170),g=y.NakoParserBase,d=y.NakoSyntaxError,_=[];for(var m in p)_.push(m);var b=function(t){"use strict";!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,t);var e,n,r,o,h=(e=y,function(){var t,n=f(e);if(s()){var r=f(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return a(this,t)});function y(){return c(this,y),h.apply(this,arguments)}return n=y,(r=[{key:"parse",value:function(t){return this.reset(),this.tokens=t,this.startParser()}},{key:"startParser",value:function(){var t=this.ySentenceList(),e=this.get();if(e&&"eof"!==e.type){var n=this.nodeToStr(e);throw new d("構文解析でエラー。".concat(n,"の使い方が間違っています。"),e.line,this.filename)}return t}},{key:"ySentenceList",value:function(){for(var t=[],e=-1;!this.isEOF();){var n=this.ySentence();if(!n)break;t.push(n),e<0&&(e=n.line)}if(0===t.length)throw new d("構文解析に失敗:"+this.nodeToStr(this.peek()),e,this.filename);return{type:"block",block:t,line:e}}},{key:"ySentence",value:function(){if(this.check("eol"))return this.get();if(this.check("embed_code"))return this.get();if(this.check("もし"))return this.yIF();if(this.check("エラー監視"))return this.yTryExcept();if(this.check("逐次実行"))return this.yPromise();if(this.accept(["抜ける"]))return{type:"break",line:this.y[0].line,josi:""};if(this.accept(["続ける"]))return{type:"continue",line:this.y[0].line,josi:""};if(this.accept(["require","string","取込"]))return{type:"require",value:this.y[1].value,line:this.y[0].line,josi:""};if(this.accept([this.yLet]))return this.y[0];if(this.accept([this.yDefTest]))return this.y[0];if(this.accept([this.yDefFunc]))return this.y[0];if(this.accept([this.yCall])){var t=this.y[0];if("して"===t.josi){var e=this.ySentence();if(null!==e)return{type:"block",block:[t,e],josi:e.josi}}return t}return null}},{key:"yBlock",value:function(){var t=[],e=-1;for(this.check("ここから")&&this.get();!this.isEOF()&&!this.checkTypes(["違えば","ここまで","エラー"])&&this.accept([this.ySentence]);)t.push(this.y[0]),e<0&&(e=this.y[0].line);return{type:"block",block:t,line:e}}},{key:"yDefFuncReadArgs",value:function(){if(!this.check("("))return null;var t=[];for(this.get();!this.isEOF();){if(this.check(")")){this.get();break}t.push(this.get()),this.check("comma")&&this.get()}return t}},{key:"yDefTest",value:function(){return this.yDef("def_test")}},{key:"yDefFunc",value:function(){return this.yDef("def_func")}},{key:"yDef",value:function(t){if(!this.check(t))return null;var e=this.get(),n=[];this.check("(")&&(n=this.yDefFuncReadArgs());var r=this.get();if("func"!==r.type)throw new d("関数"+this.nodeToStr(r)+"の宣言でエラー。",r.line,this.filename);if(this.check("(")){if(n.length>0)throw new d("関数"+this.nodeToStr(r)+"の宣言で、引数定義は名前の前か後に一度だけ可能です。",r.line,this.filename);n=this.yDefFuncReadArgs()}this.check("とは")&&this.get();var i=null,o=!1;this.check("ここから")&&(o=!0),this.check("eol")&&(o=!0);try{if(o){if(this.saveStack(),i=this.yBlock(),!this.check("ここまで"))throw new d("『ここまで』がありません。関数定義の末尾に必要です。",e.line,this.filename);this.get(),this.loadStack()}else this.saveStack(),i=this.ySentence(),this.loadStack()}catch(t){throw new d("関数"+this.nodeToStr(r)+"の定義で以下のエラーがありました。\n"+t.message,e.line,this.filename)}return{type:t,name:r,args:n,block:i,line:e.line,josi:""}}},{key:"yIFCond",value:function(){var t=this.yGetArg();if(!t)return null;if("が"===t.josi){var e=this.index,n=this.yGetArg(),r=this.get();if(n&&r&&"ならば"===r.type)return{type:"op",operator:"でなければ"===r.value?"noteq":"eq",left:t,right:n,line:t.line,josi:""};this.index=e}if(""!==t.josi&&(this.stack.push(t),t=this.yCall()),!this.check("ならば"))throw new d("もし文で『ならば』がないか、条件が複雑過ぎます。『"+this.nodeToStr(this.peek())+"』の直前に『ならば』を書いてください。",t.line,this.filename);return"でなければ"===this.get().value&&(t={type:"not",value:t,line:t.line,josi:""}),t}},{key:"yIF",value:function(){if(!this.check("もし"))return null;var t=this.get(),e=null;try{e=this.yIFCond()}catch(e){throw new d("『もし』文の条件で次のエラーがあります。\n"+e.message,t.line,this.filename)}if(null===e)throw new d("『もし』文で条件の指定が空です。",t.line,this.filename);var n=null,r=null,i=!1;for(this.check("eol")?n=this.yBlock():(n=this.ySentence(),i=!0);this.check("eol");)this.get();if(this.check("違えば")&&(this.get(),this.check("eol")?r=this.yBlock():(r=this.ySentence(),i=!0)),!1===i){if(!this.check("ここまで"))throw new d("『もし』文で『ここまで』がありません。",t.line,this.filename);this.get()}return{type:"if",expr:e,block:n,false_block:r,josi:"",line:t.line}}},{key:"yPromise",value:function(){if(!this.check("逐次実行"))return null;var t=this.get(),e=[];if(!this.check("eol"))throw new d("『逐次実行』の直後は改行が必要です",t.line,this.filename);for(;this.check("eol");)this.get();for(;this.check("先に")||this.check("次に");){var n=this.get(),r=null;if(this.check("eol")){if(r=this.yBlock(),!this.check("ここまで"))throw new d("『".concat(n.type,"』...『ここまで』を対応させてください。"),n.line,this.filename);this.get()}else r=this.ySentence();for(e.push(r);this.check("eol");)this.get()}if(!this.check("ここまで"))throw console.log(e,this.peek()),new d("『逐次実行』...『ここまで』を対応させてください。",t.line,this.filename);return this.get(),{type:"promise",blocks:e,josi:"",line:t.line}}},{key:"yGetArg",value:function(){var t=this.yValue();if(null===t)return null;for(var e=[t];!this.isEOF();){var n=this.peek();if(!n||!p[n.type])break;e.push(this.get());var r=this.yValue();if(null===r)throw new d("計算式で演算子『".concat(n.value,"』後に値がありません"),t.line,this.filename);e.push(r)}return 0===e.length?null:1===e.length?e[0]:this.infixToAST(e)}},{key:"infixToPolish",value:function(t){for(var e=function(t){return p[t.type]?p[t.type]:10},n=[],r=[];t.length>0;){for(var i=t.shift();n.length>0;){var o=n[n.length-1];if(e(i)>e(o))break;r.push(n.pop())}n.push(i)}for(;n.length>0;)r.push(n.pop());return r}},{key:"infixToAST",value:function(t){if(0===t.length)return null;var e,n=t[t.length-1].josi,r=t[t.length-1].line,o=this.infixToPolish(t),c=[],u=i(o);try{for(u.s();!(e=u.n()).done;){var a=e.value;if(p[a.type]){var s=c.pop(),f=c.pop();if(void 0===f||void 0===s)throw this.debug&&(console.log("--- 計算式(逆ポーランド) ---"),console.log(o)),new d("計算式でエラー",r,this.filename);var l={type:"op",operator:a.type,left:f,right:s,line:f.line,josi:n};c.push(l)}else c.push(a)}}catch(t){u.e(t)}finally{u.f()}return c.pop()}},{key:"yGetArgParen",value:function(t){for(var e=!1,n=this.stack.length;!this.isEOF();){if(this.check(")")){e=!0;break}var r=this.yGetArg();if(!r)break;this.pushStack(r),this.check("comma")&&this.get()}if(!e)throw new d("C風関数『".concat(t.value,"』でカッコが閉じていません"),t.line,this.filename);for(var i=[];n<this.stack.length;){var o=this.popStack();i.unshift(o)}return i}},{key:"yRepeatTime",value:function(){if(!this.check("回"))return null;var t=this.get(),e=this.popStack([]),n=!1,r=null;return null===e&&(e={type:"word",value:"それ",josi:"",line:t.line}),(this.check("ここから")||this.check("eol"))&&(this.get(),n=!0),n?(r=this.yBlock(),this.check("ここまで")&&this.get()):r=this.ySentence(),{type:"repeat_times",value:e,block:r,line:t.line,josi:""}}},{key:"yWhile",value:function(){if(!this.check("間"))return null;var t=this.get(),e=this.popStack([]);if(null===e)throw new d("『間』で条件がありません。",e.line,this.filename);if(!this.checkTypes(["ここから","eol"]))throw new d("『間』の直後は改行が必要です",e.line,this.filename);var n=this.yBlock();return this.check("ここまで")&&this.get(),{type:"while",cond:e,block:n,josi:"",line:t.line}}},{key:"yFor",value:function(){if(!this.check("繰り返す"))return null;var t=this.get(),e=this.popStack(["まで"]),n=this.popStack(["から"]),r=this.popStack(["を","で"]);if(null===n||null===e)throw new d("『繰り返す』文でAからBまでの指定がありません。",t.line,this.filename);var i=!1;(this.check("ここから")||this.check("eol"))&&(i=!0,this.get());var o=null;return i?(o=this.yBlock(),this.check("ここまで")&&this.get()):o=this.ySentence(),{type:"for",from:n,to:e,word:r,block:o,line:t.line,josi:""}}},{key:"yReturn",value:function(){if(!this.check("戻る"))return null;var t=this.get();return{type:"return",value:this.popStack(["で","を"]),line:t.line,josi:""}}},{key:"yForEach",value:function(){if(!this.check("反復"))return null;var t=this.get(),e=this.popStack(["を"]),n=this.popStack(["で"]),r=null,i=!1;return this.check("ここから")?(i=!0,this.get()):this.check("eol")&&(i=!0),i?(r=this.yBlock(),this.check("ここまで")&&this.get()):r=this.ySentence(),{type:"foreach",name:n,target:e,block:r,line:t.line,josi:""}}},{key:"ySwitch",value:function(){if(!this.check("条件分岐"))return null;var t=this.get(),e=this.get(),n=this.popStack(["で"]);if(!n)throw new d("『(値)で条件分岐』のように記述してください。",t.line,this.filename);if("eol"!=e.type)throw new d("『条件分岐』の直後は改行してください。",t.line,this.filename);for(var r=[];!this.isEOF();){if(this.check("ここまで")){this.get();break}if(this.check("eol"))this.get();else{var i=this.peek();if("違えば"==i.type)this.get();else{i=this.yValue();var o=this.get();if("ならば"!=o.type)throw console.log(o),new d("『条件分岐』で条件は＊＊ならばと記述してください。",t.line,this.filename)}var c=this.yBlock();if("ここまで"!=this.get().type)throw new d("『条件分岐』は『(条件)ならば〜ここまで』と記述してください。",t.line,this.filename);r.push([i,c])}}return{type:"switch",value:n,cases:r,line:t.line,josi:""}}},{key:"yMumeiFunc",value:function(){if(!this.check("def_func"))return null;var t=this.get(),e=[];this.check("(")&&(e=this.yDefFuncReadArgs()),this.saveStack();var n=this.yBlock();return this.check("ここまで")&&this.get(),this.loadStack(),{type:"func_obj",args:e,block:n,meta:t.meta,line:t.line,josi:""}}},{key:"yCall",value:function(){var t=this;if(this.isEOF())return null;for(;!this.isEOF();){if(this.check("代入")){var e=this.get(),n=this.popStack(["を"]),r=this.popStack(["へ","に"]);if(!r||"word"!==r.type&&"func"!==r.type&&"ref_array"!==r.type)throw new d("代入文で代入先の変数が見当たりません。",e.line,this.filename);switch(r.type){case"func":switch(r.meta.josi.length){case 0:throw new d("引数がない関数『".concat(r.name,"』を代入的呼び出しすることはできません。"),e.line,this.filename);case 1:return{type:"func",name:r.name,args:[n],setter:!0,line:e.line,josi:""};default:throw new d("引数が2つ以上ある関数『".concat(r.name,"』を代入的呼び出しすることはできません。"),e.line,this.filename)}case"ref_array":return{type:"let_array",name:r.name,index:r.index,value:n,line:e.line,josi:""};default:return{type:"let",name:r,value:n,line:e.line,josi:""}}}if(this.check("ここから")&&this.get(),this.check("回"))return this.yRepeatTime();if(this.check("間"))return this.yWhile();if(this.check("繰り返す"))return this.yFor();if(this.check("反復"))return this.yForEach();if(this.check("条件分岐"))return this.ySwitch();if(this.check("戻る"))return this.yReturn();if(this.check2([["func","word"],"("])&&""===this.peek().josi){var i=this.yValue();if("func"===i.type&&(""===i.josi||v.indexOf(i.josi)>=0))return i.josi="",i;this.pushStack(i),this.check("comma")&&this.get()}else{if(this.check("func")){var o=this.yCallFunc();if(null===o)continue;return o}var c=this.yGetArg();if(!c)break;this.pushStack(c)}}if(this.stack.length>0){var u="",a=0;this.stack.forEach((function(e){u+=t.nodeToStr(e),a=e.line})),this.debug&&(console.log("--- stack dump ---"),console.log(JSON.stringify(this.stack,null,2)),console.log("peek: ",JSON.stringify(this.peek(),null,2)));var s="".concat(u,"がありますが使い方が分かりません。");throw(u.indexOf("演算子")>0||u.match(/^『\d+』$/))&&(s="".concat(u,"がありますが文が解決していません。『代入』や『表示』などと一緒に使ってください。")),new d(s,a,this.filename)}return this.popStack([])}},{key:"yCallFunc",value:function(){var t=this.get(),e=t.meta,n=null;if("には"===t.josi){try{n=this.yMumeiFunc()}catch(e){throw new d("『".concat(t.value,"には...』で無名関数の定義で以下の間違いがあります。\n").concat(e.message),t.line,this.filename)}if(null===n)throw new d("『Fには』構文がありましたが、関数定義が見当たりません。",t.line,this.filename)}if(!e||void 0===e.josi)throw new d("関数の定義でエラー。",t.line);for(var r=[],i=0,o=0,c=0;c<e.josi.length;c++)for(;;){var u=this.popStack(e.josi[c]);if(null!==u)o++;else{if(!(c<e.josi.length-1)&&e.isVariableJosi)break;i++,u=n}if(null!==u&&void 0!==e.funcPointers&&null!==e.funcPointers[c]){if("func"!==u.type)throw new d("関数『".concat(t.value,"』の引数『").concat(e.varnames[c],"』には関数オブジェクトが必要です。"),t.line,this.filename);u.type="func_pointer"}if(r.push(u),c<e.josi.length-1||!e.isVariableJosi)break}if(i>=2&&(0<o||""===t.josi||v.indexOf(t.josi)>=0))throw new d("関数『".concat(t.value,"』の引数が不足しています。"),t.line,this.filename);var a={type:"func",name:t.value,args:r,josi:t.josi,line:t.line};return""===t.josi?a:v.indexOf(t.josi)>=0?(a.josi="して",a):(a.meta=e,this.pushStack(a),null)}},{key:"yLet",value:function(){if(this.check2(["func","eq"])){var t=this.peek(),e=this.nodeToStr(t);try{if(!this.accept(["func","eq",this.yCalc]))throw new d("関数".concat(e,"の代入的呼び出しで計算式が読み取れません。"),t.line,this.filename);switch(this.y[0].meta.josi.length){case 0:throw new d("引数がない関数『".concat(this.y[0].value,"』を代入的呼び出しすることはできません。"),this.y[0].line,this.filename);case 1:return{type:"func",name:this.y[0].value,args:[this.y[2]],setter:!0,line:this.y[0].line};default:throw new d("引数が2つ以上ある関数『".concat(this.y[0].value,"』を代入的呼び出しすることはできません。"),this.y[0].line,this.filename)}}catch(n){throw new d("関数".concat(e,"の代入的呼び出しにエラーがあります。\n").concat(n.message),t.line,this.filename)}}if(this.check2(["word","eq"])){var n=this.peek(),r=this.nodeToStr(n);try{if(this.accept(["word","eq",this.yCalc])||this.accept(["word","eq",this.ySentence])){if("eol"==this.y[2].type)throw new Error("値が空です。");return{type:"let",name:this.y[0],value:this.y[2],line:this.y[0].line}}throw new d("".concat(r,"への代入文で計算式に書き間違いがあります。"),n.line,this.filename)}catch(t){throw new d("".concat(r,"への代入文で計算式に以下の書き間違いがあります。\n").concat(t.message),n.line,this.filename)}}if(this.check2(["word","@"])){if(this.accept(["word","@",this.yValue,"eq",this.yCalc]))return{type:"let_array",name:this.y[0],index:[this.y[2]],value:this.y[4],line:this.y[0].line};if(this.accept(["word","@",this.yValue,"@",this.yValue,"eq",this.yCalc]))return{type:"let_array",name:this.y[0],index:[this.y[2],this.y[4]],value:this.y[6],line:this.y[0].line};if(this.accept(["word","@",this.yValue,"@",this.yValue,"@",this.yValue,"eq",this.yCalc]))return{type:"let_array",name:this.y[0],index:[this.y[2],this.y[4],this.y[6]],value:this.y[8],line:this.y[0].line}}if(this.check2(["word","["])){if(this.accept(["word","[",this.yCalc,"]","eq",this.yCalc]))return{type:"let_array",name:this.y[0],index:[this.y[2]],value:this.y[5],line:this.y[0].line};if(this.accept(["word","[",this.yCalc,"]","[",this.yCalc,"]","eq",this.yCalc]))return{type:"let_array",name:this.y[0],index:[this.y[2],this.y[5]],value:this.y[8],line:this.y[0].line};if(this.accept(["word","[",this.yCalc,"]","[",this.yCalc,"]","[",this.yCalc,"]","eq",this.yCalc]))return{type:"let_array",name:this.y[0],index:[this.y[2],this.y[5],this.y[8]],value:this.y[11],line:this.y[0].line}}if(this.accept(["word","とは"])){var i=this.y[0];if(!this.checkTypes(["変数","定数"]))throw new d("ローカル変数『"+i.value+"』の定義エラー",i.line,this.filename);var o=this.get(),c=null;return this.check("eq")&&(this.get(),c=this.yCalc()),{type:"def_local_var",name:i,vartype:o.type,value:c,line:i.line}}return this.accept(["変数","word","eq",this.yCalc])?{type:"def_local_var",name:this.y[1],vartype:"変数",value:this.y[3],line:this.y[0].line}:this.accept(["定数","word","eq",this.yCalc])?{type:"def_local_var",name:this.y[1],vartype:"定数",value:this.y[3],line:this.y[0].line}:null}},{key:"yCalc",value:function(){if(this.check("eol"))return null;var t=this.yGetArg();if(!t)return null;if(""===t.josi)return t;this.pushStack(t);var e=this.yCall();if("して"!==e.josi)return e;var n=this.yCalc();return n?{type:"renbun",left:e,right:n,josi:n.josi,line:e.line}:e}},{key:"yValueKakko",value:function(){if(!this.check("("))return null;var t=this.get();this.saveStack();var e=this.yCalc()||this.ySentence();if(null===e){var n=this.get();throw new d("(...)の解析エラー。"+this.nodeToStr(n)+"の近く",t.line,this.filename)}if(!this.check(")"))throw new d("(...)の解析エラー。"+this.nodeToStr(e)+"の近く",t.line,this.filename);var r=this.get();return this.loadStack(),e.josi=r.josi,e}},{key:"yValue",value:function(){if(this.checkTypes(["number","string"]))return this.get();if(this.check("("))return this.yValueKakko();if(this.check2(["-","number"])||this.check2(["-","word"])||this.check2(["-","func"])){var t=this.get(),e=this.yValue();return{type:"op",operator:"*",left:{type:"number",value:-1,line:t.line},right:e,josi:e.josi,line:t.line}}if(this.check("not")){var n=this.get(),r=this.yValue();return{type:"not",value:r,josi:r.josi,line:n.line}}var i=this.yJSONArray();if(i)return i;var o=this.yJSONObject();if(o)return o;var c=_.concat(["eol",")","]"]);if(this.check2(["func",c])){var u=this.get();return{type:"func",name:u.value,args:[],line:u.line,josi:u.josi}}if(this.check2([["func","word"],"("])&&""===this.peek().josi){var a=this.peek();if(this.accept([["func","word"],"(",this.yGetArgParen,")"]))return{type:"func",name:this.y[0].value,args:this.y[2],line:this.y[0].line,josi:this.y[3].josi};throw new d("C風関数呼び出しのエラー",a.line,this.filename)}if(this.check("embed_code"))return this.get();if(this.check("def_func"))return this.yMumeiFunc();var s=this.yValueWord();return s||null}},{key:"yValueWord",value:function(){if(this.check("word")){var t=this.get();if(this.skipRefArray)return t;if(""===t.josi&&this.checkTypes(["@","["])){for(var e=[],n="";!this.isEOF();){var r=null;if(this.accept(["@",this.yValue])&&(n=(r=this.y[1]).josi),this.accept(["[",this.yCalc,"]"])&&(r=this.y[1],n=this.y[2].josi),null===r)break;e.push(r)}if(0===e.length)throw new d("配列『".concat(t.value,"』アクセスで指定ミス"),t.line,this.filename);return{type:"ref_array",name:t,index:e,josi:n,line:t.line}}return t}return null}},{key:"yJSONObjectValue",value:function(){for(var t=[],e=this.peek();!this.isEOF();){for(;this.check("eol");)this.get();if(this.check("}"))break;if(this.accept(["word",":",this.yCalc]))this.y[0].type="string",t.push({key:this.y[0],value:this.y[2]});else if(this.accept(["string",":",this.yCalc]))t.push({key:this.y[0],value:this.y[2]});else if(this.check("word")){var n=this.get();n.type="string",t.push({key:n,value:n})}else{if(!this.checkTypes(["string","number"]))throw new d("辞書オブジェクトの宣言で末尾の『}』がありません。",e.line,this.filename);var r=this.get();t.push({key:r,value:r})}this.check("comma")&&this.get()}return t}},{key:"yJSONObject",value:function(){return this.accept(["{","}"])?{type:"json_obj",value:[],josi:this.y[1].josi,line:this.y[0].line}:this.accept(["{",this.yJSONObjectValue,"}"])?{type:"json_obj",value:this.y[1],josi:this.y[2].josi,line:this.y[0].line}:null}},{key:"yJSONArrayValue",value:function(){this.check("eol")&&this.get();var t=this.yCalc();if(null===t)return null;this.check("comma")&&this.get();for(var e=[t];!this.isEOF()&&(this.check("eol")&&this.get(),!this.check("]"));){var n=this.yCalc();if(null===n)break;this.check("comma")&&this.get(),e.push(n)}return e}},{key:"yJSONArray",value:function(){return this.accept(["[","]"])?{type:"json_array",value:[],josi:this.y[1].josi,line:this.y[0].line}:this.accept(["[",this.yJSONArrayValue,"]"])?{type:"json_array",value:this.y[1],josi:this.y[2].josi,line:this.y[0].line}:null}},{key:"yTryExcept",value:function(){if(!this.check("エラー監視"))return null;var t=this.get(),e=this.yBlock();if(!this.check2(["エラー","ならば"]))throw new d("エラー構文で『エラーならば』がありません。『エラー監視..エラーならば..ここまで』を対で記述します。",t.line,this.filename);this.get(),this.get();var n=this.yBlock();return this.check("ここまで")&&this.get(),{type:"try_except",block:e,errBlock:n,line:t.line,josi:""}}}])&&u(n.prototype,r),o&&u(n,o),y}(g);t.exports=b},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(36),n(38),n(39),n(75),n(20),n(124),n(88),n(30),n(31),n(34);var o=n(171),c=function(){"use strict";function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.debugAll=!1,this.debug=this.debugAll,this.debugStack=this.debugAll,this.stackList=[],this.filename="",this.init()}var e,n,o;return e=t,(n=[{key:"init",value:function(){this.funclist={},this.reset()}},{key:"reset",value:function(){this.tokens=[],this.index=0,this.stack=[],this.y=[]}},{key:"setFilename",value:function(t){this.filename=t}},{key:"setFuncList",value:function(t){this.funclist=t}},{key:"popStack",value:function(t){if(!t)return this.stack.pop();for(var e=0;e<this.stack.length;e++){var n=this.stack[e];if(0===t.length||t.indexOf(n.josi)>=0)return this.stack.splice(e,1),this.debugStack&&console.log("POP :",n),n}return null}},{key:"saveStack",value:function(){this.stackList.push(this.stack),this.stack=[]}},{key:"loadStack",value:function(){this.stack=this.stackList.pop()}},{key:"pushStack",value:function(t){this.debugStack&&console.log("PUSH:",t),this.stack.push(t)}},{key:"isEOF",value:function(){return this.index>=this.tokens.length}},{key:"check",value:function(t){return this.tokens[this.index].type===t}},{key:"check2",value:function(t){for(var e=0;e<t.length;e++){var n=e+this.index;if(this.tokens.length<=n)return!1;if("*"!==t[e]){var r=this.tokens[n];if(t[e]instanceof Array){if(t[e].indexOf(r.type)<0)return!1}else if(r.type!==t[e])return!1}}return!0}},{key:"checkTypes",value:function(t){var e=this.tokens[this.index].type;return t.indexOf(e)>=0}},{key:"accept",value:function(t){for(var e=this,n=[],i=this.index,o=function(){return e.index=i,!1},c=0;c<t.length;c++){if(this.isEOF())return o();var u=t[c];if("string"!=typeof u)if("function"!=typeof u){if(!(u instanceof Array))throw new Error("System Error : accept broken : "+r(u));if(!this.checkTypes(u))return o();n[c]=this.get()}else{var a=u.bind(this)(null);if(null===a)return o();n[c]=a}else{var s=this.get();if(s.type!==u)return o();n[c]=s}}return this.y=n,!0}},{key:"get",value:function(){return this.isEOF()?null:this.tokens[this.index++]}},{key:"unget",value:function(){this.index>0&&this.index--}},{key:"peek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.isEOF()?null:this.tokens[this.index+t]}},{key:"nodeToStr",value:function(t){if(!t)return"(NULL)";var e=t.name;return"op"===t.type&&(e="演算子["+t.operator+"]"),e||(e=t.value),"string"!=typeof e&&(e=t.type),this.debug?e+="→"+JSON.stringify(t,null,2):("number"===e&&(e=t.value+t.josi),"string"===t.type&&(e="「"+t.value+"」"+t.josi)),"『".concat(e,"』")}}])&&i(e.prototype,n),o&&i(e,o),t}();t.exports={NakoParserBase:c,NakoSyntaxError:o}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,t)})(t)}function c(t,e,n){return(c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(36),n(38),n(39),n(115),n(75),n(20),n(126),n(103),n(30),n(106),n(52),n(31),n(34);var f=function(t){"use strict";!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(o,t);var e,r=(e=o,function(){var t,n=s(e);if(u()){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return i(this,t)});function o(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var c=e+1,u=void 0===i?"":i,a=n(135),s="[文法エラー]".concat(u,"(").concat(c,"行目): ").concat(t,"\n")+"[バージョン] ".concat(a.version);return r.call(this,s)}return o}(o(Error));t.exports=f},function(t,e,n){function r(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=o(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,c=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(36),n(38),n(39),n(101),n(20),n(89),n(84),n(124),n(88),n(30),n(46),n(52),n(31),n(108),n(107),n(34);var a=n(152).opPriority,s=n(173),f=n(153),l=f.josiRE,h=n(174),p=h.rules,v=h.trimOkurigana,y=function(){"use strict";function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.funclist={},this.result=[]}var e,n,o;return e=t,(n=[{key:"setFuncList",value:function(t){this.funclist=t}},{key:"setInput",value:function(t,e,n){return this.tokenize(t,e,n)}},{key:"setInput2",value:function(t,e){if(this.result=t,this.preDefineFunc(this.result),this.replaceWord(this.result),e){var n=this.result.length>0?this.result[this.result.length-1].line:0,r=this.result.length>0?this.result[this.result.length-1].file:"";this.result.push({type:"eol",line:n,column:0,file:r,josi:"",value:"---"}),this.result.push({type:"eof",line:n,column:0,file:r,josi:"",value:""})}return this.result}},{key:"preDefineFunc",value:function(t){for(var e=0,n=!1,r=function(){var r=[],i={};if("("!==t[e].type)return[];for(e++;t[e];){var o=t[e];if(e++,")"===o.type)break;"func"===o.type?n=!0:"|"!==o.type&&"comma"!==o.type&&(n&&(o.funcPointer=!0,n=!1),r.push(o),i[o.value]||(i[o.value]=[]),i[o.value].push(o.josi))}for(var c=[],u=[],a=[],s={},f=0,l=r;f<l.length;f++){var h=l[f];if(!s[h.value]){var p=i[h.value];a.push(p),c.push(h.value),h.funcPointer?u.push(h.value):u.push(null),s[h.value]=!0}}return[a,c,u]};e<t.length;){var o=t[e];if("word"===o.type&&"には"===o.josi||"word"===o.type&&"は~"===o.josi)o.josi="には",t.splice(e+1,0,{type:"def_func",value:"関数",line:o.line,column:o.column,file:o.file,josi:""}),e++;else if("word"===o.type&&""===o.josi&&o.value.length>=2&&o.value.match(/回$/)&&(o.value=o.value.substr(0,o.value.length-1),t.splice(e+1,0,{type:"回",value:"回",line:o.line,column:o.column,file:o.file,josi:""}),e++),"word"===o.type&&s[o.value]&&(o.type=s[o.value],"そう"===o.value&&(o.value="それ")),"def_test"===o.type||"def_func"===o.type){var c=o;e++;var u=[],a=[],f=[],l="";if(t[e]&&"("===t[e].type){var h=i(r(),3);u=h[0],a=h[1],f=h[2]}if(t[e]&&"word"===t[e].type&&(l=t[e++].value),0===u.length&&t[e]&&"("===t[e].type){var p=i(r(),3);u=p[0],a=p[1],f=p[2]}""!==l&&(this.funclist[l]={type:"func",josi:u,fn:null,varnames:a,funcPointers:f}),c.meta={josi:u,varnames:a,funcPointers:f}}else e++}}},{key:"replaceWord",value:function(t){for(var e=[],n=0;n<t.length;){var r=t[n];if("word"===r.type&&"それ"!==r.value){var i=this.funclist[r.value];if(i&&"func"===i.type){r.type="func",r.meta=i;continue}}if("-"===r.type&&t[n+1]&&"number"===t[n+1].type){var o=n<=0?"eol":t[n-1].type;("eol"===o||a[o]||""!==t[n-1].josi)&&(t.splice(n,1),t[n].value*=-1)}if(void 0===r.josi&&(r.josi=""),"は"!==r.josi)if("とは"!==r.josi)if(f.tarareba[r.josi]){var c="でなければ"!==r.josi?"ならば":"でなければ";r.josi="",t.splice(n+1,0,{type:"ならば",value:c,line:r.line,column:r.column,file:r.file}),n+=2}else"_eol"!==r.type?"line_comment"!==r.type&&"range_comment"!==r.type?("eol"===r.type&&(r.value=e.join("/"),e=[]),n++):(e.push(r.value),t.splice(n,1)):t.splice(n,1);else t.splice(n+1,0,{type:r.josi,line:r.line,column:r.column,file:r.file}),r.josi="",n+=2;else t.splice(n+1,0,{type:"eq",line:r.line,column:r.column,file:r.file}),n+=2,r.josi=""}}},{key:"tokenize",value:function(t,e,n){for(var i,o,c=[],u=1,a=!1;""!==t;){var s,f=!1,h=r(p);try{for(h.s();!(s=h.n()).done;){var y=s.value,g=y.pattern.exec(t);if(g)if(f=!0,"space"!==y.name){if(y.cbParser){var d=void 0;if(d=a&&"word"===y.name?y.cbParser(t,!1):y.cbParser(t),"string_ex"===y.name){var _=d.res.split(/[{}｛｝]/);if(_.length>=1&&_.length%2==0)throw new Error("字句解析エラー("+(e+1)+"): 展開あり文字列で値の埋め込み{...}が対応していません。");for(var m=0;m<_.length;m++){var b=m===_.length-1?d.josi:"";if(m%2==0){var w={type:"string",value:_[m],file:n,josi:b,line:e,column:u};c.push(w)}else _[m]=v(_[m]),c.push({type:"&",value:"&",josi:"",file:n,line:e,column:u}),c.push({type:"code",value:_[m],josi:"",file:n,line:e,column:u}),c.push({type:"&",value:"&",josi:"",file:n,line:e,column:u})}e+=d.numEOL,u+=t.length-d.src.length,t=d.src,d.numEOL>0&&(u=1);break}i=u,u+=t.length-d.src.length,t=d.src;var k={type:y.name,value:d.res,josi:d.josi,line:e,column:i,file:n};c.push(k),e+=d.numEOL,d.numEOL>0&&(u=1);break}var j=g[0];y.cb&&(j=y.cb(j)),i=u,o=e,u+=g[0].length,t=t.substr(g[0].length),"eol"===y.name&&"\n"===j&&(j=e++,u=1);var S="";if(y.readJosi){var x=l.exec(t);x&&(S=x[0],u+=x[0].length,t=t.substr(x[0].length))}switch(y.name){case"def_test":a=!0;break;case"eol":a=!1}if("dec_lineno"!=y.name){c.push({type:y.name,value:j,line:o,column:i,file:n,josi:S});break}e--}else u+=g[0].length,t=t.substr(g[0].length)}}catch(t){h.e(t)}finally{h.f()}if(!f)throw new Error("字句解析で未知の語句("+(e+1)+"): "+t.substr(0,3)+"...")}return c}}])&&u(e.prototype,n),o&&u(e,o),t}();t.exports=y},function(t,e){t.exports={"回":"回","間":"間","繰返":"繰り返す","反復":"反復","抜":"抜ける","続":"続ける","戻":"戻る","先":"先に","次":"次に","代入":"代入","逐次実行":"逐次実行","条件分岐":"条件分岐","変数":"変数","定数":"定数","取込":"取込","エラー監視":"エラー監視","エラー":"エラー","それ":"word","そう":"word","関数":"def_func"}},function(t,e,n){n(75),n(155),n(46),n(108),n(102);var r=/^[\u3005\u4E00-\u9FCF_a-zA-Z0-9ァ-ヶー]+/,i=n(153).josiRE,o=/^[ぁ-ん]/;function c(t,e,n){var r="",o="",c=0;if(n=n.substr(t.length),"}}}"===e){var u=n.match(/^\{{3,}/)[0].length;e="";for(var a=0;a<u;a++)e+="}";n=n.substr(u)}var s=n.indexOf(e);s<0?(r=n,n=""):(r=n.substr(0,s),n=n.substr(s+e.length));var f=i.exec(n);f&&(o=f[0],n=n.substr(f[0].length));for(var l=0;l<r.length;l++)"\n"===r.charAt(l)&&c++;return{src:n,res:r,josi:o,numEOL:c}}function u(t){return o.test(t)||(t=t.replace(/[ぁ-ん]+/g,"")),t}function a(t){return Number(t.replace(/_/g,""))}t.exports={rules:[{name:"eol",pattern:/^\n/},{name:"eol",pattern:/^;/},{name:"space",pattern:/^(\s+|、|・)/},{name:"comma",pattern:/^,/},{name:"line_comment",pattern:/^#[^\n]*/},{name:"line_comment",pattern:/^\/\/[^\n]*/},{name:"range_comment",pattern:/^\/\*/,cbParser:function(t){var e="",n=0,r=(t=t.substr(2)).indexOf("*/");r<0?(e=t,t=""):(e=t.substr(0,r),t=t.substr(r+2));for(var i=0;i<e.length;i++)"\n"===e.charAt(i)&&n++;return e=e.replace(/(^\s+|\s+$)/,""),{src:t,res:e,josi:"",numEOL:n}}},{name:"def_test",pattern:/^●テスト:/},{name:"def_func",pattern:/^●/},{name:"number",pattern:/^非数/,readJosi:!0,cb:function(){return NaN}},{name:"number",pattern:/^無限大/,readJosi:!0,cb:function(){return 1/0}},{name:"number",pattern:/^0[xX][0-9a-fA-F]+(_[0-9a-fA-F]+)*/,readJosi:!0,cb:a},{name:"number",pattern:/^0[oO][0-7]+(_[0-7]+)*/,readJosi:!0,cb:a},{name:"number",pattern:/^0[bB][0-1]+(_[0-1]+)*/,readJosi:!0,cb:a},{name:"number",pattern:/^\d+(_\d+)*\.(\d+(_\d+)*)?([eE][+|-]?\d+(_\d+)*)?/,readJosi:!0,cb:a},{name:"number",pattern:/^\.\d+(_\d+)*([eE][+|-]?\d+(_\d+)*)?/,readJosi:!0,cb:a},{name:"number",pattern:/^\d+(_\d+)*([eE][+|-]?\d+(_\d+)*)?/,readJosi:!0,cb:a},{name:"ここから",pattern:/^(ここから)/},{name:"ここまで",pattern:/^(ここまで|💧)/},{name:"もし",pattern:/^もしも?/},{name:"違えば",pattern:/^違(えば)?/},{name:"shift_r0",pattern:/^>>>/},{name:"shift_r",pattern:/^>>/},{name:"shift_l",pattern:/^<</},{name:"gteq",pattern:/^(≧|>=|=>)/},{name:"lteq",pattern:/^(≦|<=|=<)/},{name:"noteq",pattern:/^(≠|<>|!=)/},{name:"eq",pattern:/^=/},{name:"line_comment",pattern:/^!(インデント構文|ここまでだるい)[^\n]*/},{name:"not",pattern:/^!/},{name:"gt",pattern:/^>/},{name:"lt",pattern:/^</},{name:"and",pattern:/^(かつ|&&)/},{name:"or",pattern:/^(または|\|\|)/},{name:"@",pattern:/^@/},{name:"+",pattern:/^\+/},{name:"-",pattern:/^-/},{name:"*",pattern:/^(×|\*)/},{name:"/",pattern:/^(÷|\/)/},{name:"%",pattern:/^%/},{name:"^",pattern:/^\^/},{name:"&",pattern:/^&/},{name:"[",pattern:/^\[/},{name:"]",pattern:/^]/,readJosi:!0},{name:"(",pattern:/^\(/},{name:")",pattern:/^\)/,readJosi:!0},{name:"|",pattern:/^\|/},{name:"string",pattern:/^🌿/,cbParser:function(t){return c("🌿","🌿",t)}},{name:"string_ex",pattern:/^🌴/,cbParser:function(t){return c("🌴","🌴",t)}},{name:"string_ex",pattern:/^「/,cbParser:function(t){return c("「","」",t)}},{name:"string",pattern:/^『/,cbParser:function(t){return c("『","』",t)}},{name:"string_ex",pattern:/^“/,cbParser:function(t){return c("“","”",t)}},{name:"string_ex",pattern:/^"/,cbParser:function(t){return c('"','"',t)}},{name:"string",pattern:/^'/,cbParser:function(t){return c("'","'",t)}},{name:"」",pattern:/^」/},{name:"』",pattern:/^』/},{name:"func",pattern:/^\{関数\}/},{name:"{",pattern:/^\{/},{name:"}",pattern:/^\}/,readJosi:!0},{name:":",pattern:/^:/},{name:"_eol",pattern:/^_\s*\n/},{name:"dec_lineno",pattern:/^‰/},{name:"word",pattern:/^[\uD800-\uDBFF][\uDC00-\uDFFF][_a-zA-Z0-9]*/,readJosi:!0},{name:"word",pattern:/^[\u1F60-\u1F6F][_a-zA-Z0-9]*/,readJosi:!0},{name:"word",pattern:/^《.+?》/,readJosi:!0},{name:"word",pattern:/^[_a-zA-Z\u3005\u4E00-\u9FCFぁ-んァ-ヶ]/,cbParser:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",c="";for(;""!==t;){var a=r.exec(t);if(a)n+=a[0],t=t.substr(a[0].length);else{if(n.length>0){var s=i.exec(t);if(s){c=s[0],t=t.substr(s[0].length);break}}var f=o.test(t);if(!f)break;n+=t.charAt(0),t=t.substr(1)}}e&&(n=u(n));""===n&&""!==c&&(n=c,c="");return{src:t,res:n,josi:c,numEOL:0}}}],trimOkurigana:u}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(96),n(89),n(46),n(158),n(159),n(102),n(107);var i=function(){"use strict";function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.HYPHENS={45:!0,8208:!0,8209:!0,8211:!0,8212:!0,8213:!0,8722:!0},this.TILDES={126:!0,732:!0,759:!0,8275:!0,8764:!0,12316:!0,65374:!0},this.SPACES={32:!0,8192:!0,8194:!0,8195:!0,8196:!0,8197:!0,8198:!0,8199:!0,8201:!0,8202:!0,8203:!0,8239:!0,8287:!0,12288:!0,12644:!0},this.convertTable={9:" ",8251:"#",12290:";",12304:"[",12305:"]"}}var e,n,i;return e=t,(n=[{key:"convert1ch",value:function(t){var e=t.codePointAt(0);if(this.convertTable[e])return this.convertTable[e];if(e<127)return t;if(e>=65281&&e<=65374){var n=e-65248;return String.fromCodePoint(n)}return this.HYPHENS[e]?"-":this.TILDES[e]?"~":this.SPACES[e]?" ":t}},{key:"convert",value:function(t){if(!t)return"";var e,n=!1,r=!1,i="",o="",c=[];(t=t.replace(/(\r\n|\r)/g,"\n")).replace(/([\u3005\u4E00-\u9FCF_a-zA-Z0-9ァ-ヶー]+?)の([\u3005\u4E00-\u9FCF_a-zA-Z0-9ァ-ヶー]+?)(は|\s*\=)/g,(function(e,n,r){if("定数"!=n&&"変数"!=n){var i=n+"の"+r,o="__"+n+"_的_"+r+"__";t=t.split(i).join(o),c.push([i,o])}}));for(var u=0;u<t.length;){var a=t.charAt(u),s=t.substr(u,2);if(n){if(a===e){n=!1,c.forEach((function(t){o=o.split(t[1]).join(t[0])})),i+=o+e,u++;continue}o+=a,u++}else if(r){if(s===e){r=!1,c.forEach((function(t){o=o.split(t[1]).join(t[0])})),i+=o+e,u+=2;continue}o+=a,u++}else if("「"!==a)if("『"!==a)if("“"!==a)if("🌴"!==s&&"🌿"!==s){var f=this.convert1ch(a);'"'!==f&&"'"!==f?"#"!==f?"//"!==s?(i+=f,u++):(i+=s,u+=2,n=!0,e="\n",o=""):(i+=f,u++,n=!0,e="\n",o=""):(i+=f,u++,n=!0,e=a,o="")}else i+=s,u+=2,r=!0,e=s,o="";else i+=a,u++,n=!0,e="”",o="";else i+=a,u++,n=!0,e="』",o="";else i+=a,u++,n=!0,e="」",o=""}return(n||r)&&(i+=o+e),i}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function a(t,e,n){return(a=s()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&f(i,n.prototype),i}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(36),n(38),n(39),n(115),n(75),n(20),n(89),n(134),n(88),n(126),n(103),n(30),n(106),n(46),n(52),n(31),n(108),n(102),n(34);var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,t);var e,n=(e=r,function(){var t,n=l(e);if(s()){var r=l(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return c(this,t)});function r(t,e){return o(this,r),t=e?"[文法エラー]("+e+") "+t:"[文法エラー] "+t,n.call(this,t)}return r}(u(Error)),p=function(){function t(e){o(this,t),this.header=t.getHeader(),this.funclist=e.funclist,this.nako_func={},this.nako_test={},this.used_func={},this.loop_id=1,this.flagLoop=!1,this.sore=t.varname("それ"),this.__varslist=e.__varslist,this.__self=e,this.__vars=this.__varslist[2],this.__module=e.__module}var e,n,c;return e=t,c=[{key:"getHeader",value:function(){return"var __varslist = this.__varslist = [{}, {}, {}];\nvar __vars = this.__varslist[2];\nvar __self = this;\nvar __module = {};\n"}},{key:"convLineno",value:function(t){return void 0===t.line?"":"__v0.line=".concat(t.line,";")}},{key:"varname",value:function(t){return'__vars["'.concat(t,'"]')}},{key:"getFuncName",value:function(t){var e=t.replace(/[ぁ-ん]+$/,"");return""===e&&(e=t),e}},{key:"convPrint",value:function(t){return"__print(".concat(t,");")}},{key:"convRequire",value:function(e){var n=e.value;return t.convLineno(e.line)+"__module['".concat(n,"'] = require('").concat(n,"');\n")}}],(n=[{key:"reset",value:function(){var t={};for(var e in this.used_func)e.match(/^!.+:初期化$/)&&(t[e]=this.used_func[e]);this.used_func=t,this.loop_id=1,this.__varslist[1]={},this.__vars=this.__varslist[2]={}}},{key:"getVarsCode",value:function(){var t="";for(var e in this.used_func){var n=this.__varslist[0][e],r='this.__varslist[0]["'.concat(e,'"]');t+="function"==typeof n?r+"="+n.toString()+";\n":r+"="+JSON.stringify(n)+";\n"}return t}},{key:"getDefFuncCode",value:function(t){var e="";e+="const __self = this.__self = this;\n",e+="const __varslist = this.__varslist;\n",e+="const __module = this.__module;\n",e+="const __v0 = this.__v0 = this.__varslist[0];\n",e+="const __v1 = this.__v1 = this.__varslist[1];\n",e+="let __vars = this.__vars = this.__varslist[this.__varslist.length - 1];\n";var n="";for(var r in this.nako_func){var i=this.nako_func[r].fn;n+=""+"//[DEF_FUNC name='".concat(r,"']\n")+'__v1["'.concat(r,'"]=').concat(i,";\n;")+"//[/DEF_FUNC name='".concat(r,"']\n")}""!==n&&(e+="__v0.line=0;// なでしこの関数定義\n"+n);var o="";for(var c in this.__module){var u="!".concat(c,":初期化");this.__varslist[0][u]&&(o+='__v0["!'.concat(c,':初期化"](__self);\n'))}if(""!==o&&(e+="__v0.line=0;// プラグインの初期化\n"+o),e+="__vars[\"それ\"] = '';\n",t){var a="";for(var s in this.nako_test){var f=this.nako_test[s].fn;a+="".concat(f,";\n;")}""!==a&&(e+="__v0.line=0;// テスト定義\n",e+=a+"\n")}return e}},{key:"getVarsList",value:function(){return this.__varslist}},{key:"addPlugin",value:function(t){return this.__self.addPlugin(t)}},{key:"addPluginObject",value:function(t,e){this.__self.addPluginObject(t,e)}},{key:"addPluginFile",value:function(t,e,n){this.__self.addPluginFile(t,e,n)}},{key:"addFunc",value:function(t,e,n){this.__self.addFunc(t,e,n)}},{key:"setFunc",value:function(t,e){this.__self.setFunc(t,e)}},{key:"getFunc",value:function(t){return this.__self.getFunc(t)}},{key:"registerFunction",value:function(t){if("block"!==t.type)throw new h("構文解析に失敗しています。構文は必ずblockが先頭になります");for(var e=0;e<t.block.length;e++){var n=t.block[e];if("def_func"===n.type){var r=n.name.value;this.used_func[r]=!0,this.__varslist[1][r]=function(){},this.nako_func[r]={josi:n.name.meta.josi,fn:"",type:"func"}}}}},{key:"convGen",value:function(t,e){var n=this._convGen(t);return e?"":n}},{key:"_convGen",value:function(e){var n="";if(e instanceof Array){for(var r=0;r<e.length;r++){var o=e[r];n+=this._convGen(o)}return n}if(null===e)return"null";if(void 0===e)return"undefined";if("object"!==i(e))return""+e;switch(e.type){case"nop":break;case"block":for(var c=0;c<e.block.length;c++){var u=e.block[c];n+=this._convGen(u)}break;case"comment":case"eol":n+=this.convComment(e);break;case"break":n+=this.convCheckLoop(e,"break");break;case"continue":n+=this.convCheckLoop(e,"continue");break;case"end":n+="__varslist[0]['終']();";break;case"number":n+=e.value;break;case"string":n+=this.convString(e);break;case"def_local_var":n+=this.convDefLocalVar(e);break;case"let":n+=this.convLet(e);break;case"word":case"variable":n+=this.convGetVar(e);break;case"op":case"calc":n+=this.convOp(e);break;case"renbun":n+=this.convRenbun(e);break;case"not":n+="(("+this._convGen(e.value)+")?0:1)";break;case"func":case"func_pointer":case"calc_func":n+=this.convFunc(e);break;case"if":n+=this.convIf(e);break;case"promise":n+=this.convPromise(e);break;case"for":n+=this.convFor(e);break;case"foreach":n+=this.convForeach(e);break;case"repeat_times":n+=this.convRepeatTimes(e);break;case"while":n+=this.convWhile(e);break;case"switch":n+=this.convSwitch(e);break;case"let_array":n+=this.convLetArray(e);break;case"ref_array":n+=this.convRefArray(e);break;case"json_array":n+=this.convJsonArray(e);break;case"json_obj":n+=this.convJsonObj(e);break;case"func_obj":n+=this.convFuncObj(e);break;case"bool":n+=e.value?"true":"false";break;case"null":n+="null";break;case"def_test":n+=this.convDefTest(e);break;case"def_func":n+=this.convDefFunc(e);break;case"return":n+=this.convReturn(e);break;case"try_except":n+=this.convTryExcept(e);break;case"require":n+=t.convRequire(e);break;default:throw new Error("System Error: unknown_type="+e.type)}return n}},{key:"findVar",value:function(t){if(void 0!==this.__vars[t])return{i:this.__varslist.length-1,name:t,isTop:!0};for(var e=this.__varslist.length-2;e>=0;e--){var n=this.__varslist[e];if(n&&void 0!==n[t])return{i:e,name:t,isTop:!1}}return null}},{key:"genVar",value:function(t,e){var n=this.findVar(t),r=e;if(null===n)return'__vars["'.concat(t,'"]/*?:').concat(r,"*/");var i=n.i;if(0===i){var o=this.funclist[t];if(!o)return'__vars["'.concat(t,'"]/*err:').concat(r,"*/");if("const"===o.type||"var"===o.type)return'__varslist[0]["'.concat(t,'"]');if("func"===o.type){if(0===o.josi.length)return"(__varslist[".concat(i,']["').concat(t,'"]())');throw new h("『".concat(t,"』が複文で使われました。単文で記述してください。(v1非互換)"),e)}throw new h("『".concat(t,"』は関数であり参照できません。"),e)}return n.isTop?'__vars["'.concat(t,'"]'):"__varslist[".concat(i,']["').concat(t,'"]')}},{key:"convGetVar",value:function(t){var e=t.value;return this.genVar(e,t.line)}},{key:"convComment",value:function(e){var n=String(e.value);return n=n.replace(/\n/g,"¶"),"; "+t.convLineno(e)+"// "+n+"\n"}},{key:"convReturn",value:function(e){if(void 0===this.__vars["!関数"])throw new h("『戻る』がありますが、関数定義内のみで使用可能です。",e.line);var n,r=t.convLineno(e);return e.value?(n=this._convGen(e.value),r+"return ".concat(n,";")):(n=this.sore,r+"return ".concat(n,";"))}},{key:"convCheckLoop",value:function(e,n){if(!this.flagLoop)throw new h("『".concat("continue"===n?"続ける":"抜ける","』文がありますが、それは繰り返しの中で利用してください。"),e.line);return t.convLineno(e.line)+n+";"}},{key:"convDefFuncCommon",value:function(t,e){var n="(function(){\n";n+="try {\n  __vars = {'それ':''};\n  __varslist.push(__vars);\n",this.__vars={"それ":!0,"!関数":e},this.__varslist.push(this.__vars),n+="  __vars['引数'] = arguments;\n";for(var r=e?t.name.meta:t.meta,i=0;i<r.varnames.length;i++){var o=r.varnames[i];n+="  __vars['".concat(o,"'] = arguments[").concat(i,"];\n"),this.__vars[o]=!0}return e&&(this.used_func[e]=!0,this.__varslist[1][e]=function(){},this.nako_func[e]={josi:t.name.meta.josi,fn:"",type:"func"}),n+=this._convGen(t.block)+"\n",n+="  return (".concat(this.sore,");\n"),n+="  } finally {\n"+"    ".concat("__varslist.pop(); __vars = __varslist[__varslist.length-1];","\n")+"  }\n})",e&&(this.nako_func[e].fn=n),this.__varslist.pop(),this.__vars=this.__varslist[this.__varslist.length-1],e&&(this.__varslist[1][e]=n),n}},{key:"convDefTest",value:function(t){var e=t.name.value,n="describe('test', () => {\n"+" it('".concat(e,"', () => {\n"),r=this._convGen(t.block);return n+="   ".concat(r,"\n")+" })\n})",this.nako_test[e]={josi:t.name.meta.josi,fn:n,type:"test_func"},""}},{key:"convDefFunc",value:function(e){var n=t.getFuncName(e.name.value);return this.convDefFuncCommon(e,n),""}},{key:"convFuncObj",value:function(t){return this.convDefFuncCommon(t,"")}},{key:"convJsonObj",value:function(t){var e=this;return"{"+t.value.map((function(t){var n=e._convGen(t.key),r=e._convGen(t.value);return"".concat(n,":").concat(r)})).join(",")+"}"}},{key:"convJsonArray",value:function(t){var e=this;return"["+t.value.map((function(t){return e._convGen(t)})).join(",")+"]"}},{key:"convRefArray",value:function(t){for(var e=this._convGen(t.name),n=t.index,r=e,i=0;i<n.length;i++)r+="["+this._convGen(n[i])+"]";return r}},{key:"convLetArray",value:function(e){for(var n=this._convGen(e.name),r=e.index,i=n,o=0;o<r.length;o++)i+="["+this._convGen(r[o])+"]";return i+=" = "+this._convGen(e.value)+";\n",t.convLineno(e)+i}},{key:"convGenLoop",value:function(t){var e=this.flagLoop;this.flagLoop=!0;try{return this._convGen(t)}finally{this.flagLoop=e}}},{key:"convFor",value:function(e){var n="__vars['__dummy__']";if(null!==e.word){var r=e.word.value;this.__vars[r]=!0,n="__vars['".concat(r,"']")}var i=this.loop_id++,o="$nako_i".concat(i),c=this._convGen(e.from),u=this._convGen(e.to),a=this.convGenLoop(e.block),s="$nako_from".concat(i),f="$nako_to".concat(i),l="\n//[FOR id=".concat(i,"]\n")+"const ".concat(s," = ").concat(c,";\n")+"const ".concat(f," = ").concat(u,";\n")+"if (".concat(s," <= ").concat(f,") { // up\n")+"  for (let ".concat(o," = ").concat(s,"; ").concat(o," <= ").concat(f,"; ").concat(o,"++) {\n")+"    ".concat(this.sore," = ").concat(n," = ").concat(o,";\n")+"    ".concat(a,"\n")+"  };\n} else { // down\n"+"  for (let ".concat(o," = ").concat(s,"; ").concat(o," >= ").concat(f,"; ").concat(o,"--) {\n")+"    ".concat(this.sore," = ").concat(n," = ").concat(o,";")+"\n"+"    ".concat(a,"\n")+"  };\n"+"};\n//[/FOR id=".concat(i,"]\n");return t.convLineno(e)+l}},{key:"convForeach",value:function(e){var n;n=null===e.target?this.sore:this._convGen(e.target);var r=this.convGenLoop(e.block),i=this.loop_id++,o='__v0["対象"]';e.name&&(o=t.varname(e.name.value),this.__vars[e.name]=!0);var c="let $nako_foreach_v".concat(i,"=").concat(n,";\n")+"for (let $nako_i".concat(i," in $nako_foreach_v").concat(i,")")+"{\n"+"".concat(o," = ").concat(this.sore," = $nako_foreach_v").concat(i,"[$nako_i").concat(i,"];")+"\n"+"".concat('__v0["対象キー"]'," = $nako_i").concat(i,";\n")+r+"\n};\n";return t.convLineno(e)+c}},{key:"convRepeatTimes",value:function(e){var n=this.loop_id++,r=this._convGen(e.value),i=this.convGenLoop(e.block),o="for(var $nako_i".concat(n," = 1; $nako_i").concat(n," <= ").concat(r,"; $nako_i").concat(n,"++)")+"{\n"+"  ".concat(this.sore," = ").concat('__v0["回数"]'," = $nako_i").concat(n,";")+"\n  "+i+"\n}\n";return t.convLineno(e)+o}},{key:"convWhile",value:function(e){var n=this._convGen(e.cond),r=this.convGenLoop(e.block),i="while (".concat(n,")")+"{\n"+"  ".concat(r)+"\n}\n";return t.convLineno(e)+i}},{key:"convSwitch",value:function(e){for(var n=this._convGen(e.value),r=e.cases,i="",o=0;o<r.length;o++){var c=r[o][0],u=this.convGenLoop(r[o][1]);if("違えば"==c.type)i+="  default:\n";else{var a=this._convGen(c);i+="  case ".concat(a,":\n")}i+="    ".concat(u,"\n")+"    break\n"}var s="switch (".concat(n,")")+"{\n"+"".concat(i)+"\n}\n";return t.convLineno(e)+s}},{key:"convIf",value:function(e){var n=this._convGen(e.expr),r=this._convGen(e.block),i=null===e.false_block?"":"else {"+this._convGen(e.false_block)+"};\n";return t.convLineno(e)+"if (".concat(n,") {\n  ").concat(r,"\n}")+i+";\n"}},{key:"convPromise",value:function(e){for(var n=this.loop_id++,r="const __pid".concat(n," = async () => {\n"),i=0;i<e.blocks.length;i++){var o=this._convGen(e.blocks[i]).replace(/\s+$/,"")+"\n",c="await new Promise((resolve) => {\n  __self.resolve = resolve;\n  __self.resolveCount = 0;\n"+"  ".concat(o,"\n")+"  if (__self.resolveCount === 0) resolve();\n\n})\n";r+="".concat(c)}return r+="};/* __pid".concat(n," */\n"),r+="__pid".concat(n,"();\n"),r+="__self.resolve = undefined;\n",t.convLineno(e)+r}},{key:"convFuncGetArgsCalcType",value:function(t,e,n){for(var r=[],i={},o=0;o<n.args.length;o++){var c=n.args[o];0===o&&null===c?(r.push(this.sore),i.sore=!0):r.push(this._convGen(c))}return[r,i]}},{key:"getPluginList",value:function(){var t=[];for(var e in this.__module)t.push(e);return t}},{key:"convFunc",value:function(e){var n,r,i=t.getFuncName(e.name),o=this.findVar(i);if(null===o)throw new h("関数『".concat(i,"』が見当たりません。有効プラグイン=[")+this.getPluginList().join(", ")+"]",e.line);if(0===o.i){if(r=this.funclist[i],n='__v0["'.concat(i,'"]'),"func"!==r.type)throw new h("『".concat(i,"』は関数ではありません。"),e.line)}else void 0===(r=this.nako_func[i])&&(r={return_none:!1}),n="__varslist[".concat(o.i,']["').concat(i,'"]');if("func_pointer"===e.type)return n;var c=this.convFuncGetArgsCalcType(i,r,e),u=c[0],a=c[1];void 0===this.used_func[i]&&(this.used_func[i]=!0),u.push("__self");var s="",f="";e.setter&&(s=";__self.isSetter = true;",f=";__self.isSetter = false;"),a.sore&&(s+="/*[sore]*/");var l=u.join(","),p="".concat(n,"(").concat(l,")");return r.return_none?p="".concat(s).concat(p,";").concat(f,"\n"):(p="(function(){ ".concat(s,"const tmp=").concat(this.sore,"=").concat(p,"; return tmp;").concat(f,"; }).call(this)"),"して"===e.josi&&(p+=";\n")),p}},{key:"convRenbun",value:function(t){var e=this._convGen(t.right),n=this._convGen(t.left);return"(function(){".concat(n,"; return ").concat(e,"}).call(this)")}},{key:"convOp",value:function(t){var e={"&":'+""+',eq:"==",noteq:"!=",gt:">",lt:"<",gteq:">=",lteq:"<=",and:"&&",or:"||",shift_l:"<<",shift_r:">>",shift_r0:">>>"},n=t.operator,r=this._convGen(t.right),i=this._convGen(t.left);return{"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0}[n]&&(i="parseFloat(".concat(i,")"),r="parseFloat(".concat(r,")")),"^"===n?"(Math.pow("+i+","+r+"))":(e[n]&&(n=e[n]),"(".concat(i," ").concat(n," ").concat(r,")"))}},{key:"convLet",value:function(e){var n=this.sore;e.value&&(n=this._convGen(e.value));var r,i=e.name.value,o=this.findVar(i),c="";if(null===o)this.__vars[i]=!0,r=!0;else if(r=o.isTop,this.__varslist[o.i].meta&&this.__varslist[o.i].meta[i]&&this.__varslist[o.i].meta[i].readonly)throw new h("定数『".concat(i,"』は既に定義済みなので、値を代入することはできません。"),e.line);return c=r?'__vars["'.concat(i,'"]=').concat(n,";"):"__varslist[".concat(o.i,']["').concat(i,'"]=').concat(n,";"),";"+t.convLineno(e)+c+"\n"}},{key:"convDefLocalVar",value:function(e){var n=null===e.value?"null":this._convGen(e.value),r=e.name.value,i=e.vartype;if(void 0!==this.__vars[r])throw new h("".concat(i,"『").concat(r,"』の二重定義はできません。"),e.line);this.__vars[r]=!0,"定数"===i&&(this.__vars.meta||(this.__vars.meta={}),this.__vars.meta[r]||(this.__vars.meta[r]={}),this.__vars.meta[r].readonly=!0);var o='__vars["'.concat(r,'"]=').concat(n,";\n");return t.convLineno(e)+o}},{key:"convString",value:function(t){var e=this,n=""+t.value,r=t.mode;if(n=(n=(n=(n=n.replace(/\\/g,"\\\\")).replace(/"/g,'\\"')).replace(/\r/g,"\\r")).replace(/\n/g,"\\n"),"ex"===r){var i=function(t,n){return'"+'+e.genVar(n)+'+"'};n=(n=n.replace(/\{(.+?)\}/g,i)).replace(/｛(.+?)｝/g,i)}return'"'+n+'"'}},{key:"convTryExcept",value:function(e){var n=this._convGen(e.block),r=this._convGen(e.errBlock);return t.convLineno(e.line)+"try {\n".concat(n,"\n} catch (e) {\n")+'__varslist[0]["エラーメッセージ"] = e.message;\n;\n'+"".concat(r,"}\n")}}])&&r(e.prototype,n),c&&r(e,c),t}();t.exports=p},function(t,e,n){n(96),n(75),n(89),n(46),n(102),n(107),n(111);var r="🌟🌟改行🌟🌟s4j#WjcSb😀/FcX3🌟🌟";function i(t){for(var e="",n=0;n<t;n++)e+=" ";return e}t.exports={convert:function(t){var e=["!インデント構文","!ここまでだるい"],n=t.split("\n",30),o=!1;return n.forEach((function(t){var n=t.substr(0,8).replace("！","!");if(e.indexOf(n)>=0)return o=!0,!0})),o?function(t){var e="ここまで‰",n=function(t){var e=t.length,n="",i="",o=0;for(;o<e;){var c=t.charAt(o);if(""==i){switch(c){case'"':case"'":i=c,n+=c,o++;continue;case"「":i="」",n+=c,o++;continue;case"『":i="』",n+=c,o++;continue;case"“":i="”",n+=c,o++;continue;case"{":i="}",n+=c,o++;continue;case"｛":i="｝",n+=c,o++;continue;case"[":i="]",n+=c,o++;continue;case"🌴":i="🌴",n+=c,o++;continue;case"🌿":i="🌿",n+=c,o++;continue;case"【":i="】",n+=c,o++;continue}n+=c,o++}else c==i&&(i=""),n+="\n"==c?r:c,o++}return n}(t).split("\n"),o=[],c=[],u=0;n.forEach((function(t){var n=t.replace(/^\s+/,"").replace(/\s+$/,"");if(""!==n){var r=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charAt(n);if(" "!=r)if("　"!=r)if("・"!=r){if("\t"!=r)break;e+=4}else e+=2;else e+=2;else e++}return e}(t);if(u!=r){if(u<r)return c.push(u),u=r,void o.push(t);if(u>r)for(u=r;c.length>0;){var a=c.pop();if(a==r)return"違えば"!=n&&o.push(i(a)+e),void o.push(t);r<a&&o.push(i(a)+e)}}else o.push(t)}}));for(;c.length>0;){var a=c.pop();o.push(i(a)+e)}return o.join("\n").split(r).join("\n")}(t):t}}},function(module,exports,__webpack_require__){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){c=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}__webpack_require__(36),__webpack_require__(38),__webpack_require__(39),__webpack_require__(115),__webpack_require__(160),__webpack_require__(96),__webpack_require__(101),__webpack_require__(75),__webpack_require__(20),__webpack_require__(89),__webpack_require__(134),__webpack_require__(161),__webpack_require__(163),__webpack_require__(84),__webpack_require__(140),__webpack_require__(124),__webpack_require__(88),__webpack_require__(179),__webpack_require__(30),__webpack_require__(154),__webpack_require__(46),__webpack_require__(52),__webpack_require__(158),__webpack_require__(159),__webpack_require__(31),__webpack_require__(108),__webpack_require__(102),__webpack_require__(107),__webpack_require__(111),__webpack_require__(34);var NakoRuntimeError=__webpack_require__(141),PluginSystem={"初期化":{type:"func",josi:[],fn:function(t){var e=__webpack_require__(135);if(t.__v0["ナデシコバージョン"]=e.version,t.__getSysValue=function(e,n){return void 0===t.__v0[e]?n:t.__v0[e]},t.__findVar=function(e,n){if("function"==typeof e)return e;for(var r=t.__varslist.length-1;r>=0;r--){var i=t.__varslist[r];if(i[e])return i[e]}return n},t.__findFunc=function(e,n){var r=t.__findVar(e);if("function"==typeof r)return r;throw new Error("『".concat(n,"』に実行できない関数が指定されました。"))},t.__exec=function(e,n){var r=t.__findVar(e);if(!r)throw new Error("システム関数でエイリアスの指定ミス:"+e);return r.apply(this,n)},t.__setVar=function(e,n){t.__v0[e]=n},t.__timeout){var n,r=_createForOfIteratorHelper(t.__timeout);try{for(r.s();!(n=r.n()).done;){var i=n.value;clearTimeout(i)}}catch(t){r.e(t)}finally{r.f()}}if(t.__timeout=[],t.__interval){var o,c=_createForOfIteratorHelper(t.__interval);try{for(c.s();!(o=c.n()).done;){var u=o.value;clearInterval(u)}}catch(t){c.e(t)}finally{c.f()}}t.__interval=[]}},"ナデシコバージョン":{type:"const",value:"?"},"ナデシコエンジン":{type:"const",value:"nadesi.com/v3"},"ナデシコ種類":{type:"const",value:"wnako3/cnako3"},"はい":{type:"const",value:1},"いいえ":{type:"const",value:0},"オン":{type:"const",value:1},"オフ":{type:"const",value:0},"改行":{type:"const",value:"\n"},"タブ":{type:"const",value:"\t"},"カッコ":{type:"const",value:"「"},"カッコ閉":{type:"const",value:"」"},"波カッコ":{type:"const",value:"{"},"波カッコ閉":{type:"const",value:"}"},OK:{type:"const",value:1},NG:{type:"const",value:0},PI:{type:"const",value:Math.PI},"空":{type:"const",value:""},NULL:{type:"const",value:null},undefined:{type:"const",value:void 0},"未定義":{type:"const",value:void 0},"エラーメッセージ":{type:"const",value:""},"対象":{type:"const",value:""},"対象キー":{type:"const",value:""},"回数":{type:"const",value:""},CR:{type:"const",value:"\r"},LF:{type:"const",value:"\n"},"空配列":{type:"func",josi:[],fn:function(t){return[]}},"空ハッシュ":{type:"func",josi:[],fn:function(t){return{}}},"空オブジェクト":{type:"func",josi:[],fn:function(t){return t.__exec("空ハッシュ",[t])}},"表示":{type:"func",josi:[["を","と"]],fn:function(t,e){e.silent||console.log(t),e.__varslist[0]["表示ログ"]+=t+"\n"},return_none:!0},"表示ログ":{type:"const",value:""},"表示ログクリア":{type:"func",josi:[],fn:function(t){t.__varslist[0]["表示ログ"]=""},return_none:!0},"言":{type:"func",josi:[["を","と"]],fn:function(t){console.log(t)},return_none:!0},"コンソール表示":{type:"func",josi:[["を","と"]],fn:function(t,e){console.log(t)},return_none:!0},"足":{type:"func",josi:[["を"],["に","と"]],isVariableJosi:!0,fn:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.pop(),n.push(t),n.reduce((function(t,e){return t+e}))}},"引":{type:"func",josi:[["から"],["を"]],fn:function(t,e){return t-e}},"掛":{type:"func",josi:[["に","と"],["を"]],fn:function(t,e){return t*e}},"倍":{type:"func",josi:[["の"],[""]],fn:function(t,e){return t*e}},"割":{type:"func",josi:[["を"],["で"]],fn:function(t,e){return t/e}},"割余":{type:"func",josi:[["を"],["で"]],fn:function(t,e){return t%e}},"以上":{type:"func",josi:[["が"],[""]],fn:function(t,e){return t>=e}},"以下":{type:"func",josi:[["が"],[""]],fn:function(t,e){return t<=e}},"未満":{type:"func",josi:[["が"],[""]],fn:function(t,e){return t<e}},"超":{type:"func",josi:[["が"],[""]],fn:function(t,e){return t>e}},"等":{type:"func",josi:[["が"],["と"]],fn:function(t,e){return t===e}},"範囲内":{type:"func",josi:[["が"],["から"],["の"]],fn:function(t,e,n){return e<=t&&t<=n}},"JS実行":{type:"func",josi:[["を","で"]],fn:function fn(src,sys){return eval(src)}},"JSオブジェクト取得":{type:"func",josi:[["の"]],fn:function(t,e){return e.__findVar(t,null)}},"JS関数実行":{type:"func",josi:[["を"],["で"]],fn:function fn(name,args,sys){if("string"==typeof name&&(name=eval(name)),"function"!=typeof name)throw new Error("JS関数取得で実行できません。");return args instanceof Array||(args=[args]),name.apply(null,args)}},"ナデシコ":{type:"func",josi:[["を","で"]],fn:function(t,e){return e.__varslist[0]["表示ログ"]="",e.__self.runEx(t,"immediate-code.nako3",{resetEnv:!1,resetLog:!0}),e.__varslist[0]["表示ログ"]}},"ナデシコ続":{type:"func",josi:[["を","で"]],fn:function(t,e){return e.__self.runEx(t,"immediate-code.nako3",{resetEnv:!1,resetLog:!1}),e.__varslist[0]["表示ログ"]}},"実行":{type:"func",josi:[["を","に","で"]],fn:function(t,e){if("string"==typeof t&&(t=e.__findFunc(t,"実行")),"function"==typeof t)return t(e)}},"変数型確認":{type:"func",josi:[["の"]],fn:function(t){return _typeof(t)}},TYPEOF:{type:"func",josi:[["の"]],fn:function(t){return _typeof(t)}},"文字列変換":{type:"func",josi:[["を"]],fn:function(t){return String(t)}},TOSTR:{type:"func",josi:[["を"]],fn:function(t){return String(t)}},"整数変換":{type:"func",josi:[["を"]],fn:function(t){return parseInt(t)}},TOINT:{type:"func",josi:[["を"]],fn:function(t){return parseInt(t)}},"実数変換":{type:"func",josi:[["を"]],fn:function(t){return parseFloat(t)}},TOFLOAT:{type:"func",josi:[["を"]],fn:function(t){return parseFloat(t)}},INT:{type:"func",josi:[["の"]],fn:function(t){return parseInt(t)}},FLOAT:{type:"func",josi:[["の"]],fn:function(t){return parseFloat(t)}},"NAN判定":{type:"func",josi:[["を"]],fn:function(t){return isNaN(t)}},HEX:{type:"func",josi:[["の"]],fn:function(t){return parseInt(t).toString(16)}},RGB:{type:"func",josi:[["と"],["の"],["で"]],fn:function(t,e,n){var r=function(t){var e="00"+parseInt(t).toString(16);return e.substr(e.length-2,2)};return"#"+r(t)+r(e)+r(n)}},"論理OR":{type:"func",josi:[["と"],["の"]],fn:function(t,e){return t||e}},"論理AND":{type:"func",josi:[["と"],["の"]],fn:function(t,e){return t&&e}},"論理NOT":{type:"func",josi:[["の"]],fn:function(t){return t?0:1}},OR:{type:"func",josi:[["と"],["の"]],fn:function(t,e){return t|e}},AND:{type:"func",josi:[["と"],["の"]],fn:function(t,e){return t&e}},XOR:{type:"func",josi:[["と"],["の"]],fn:function(t,e){return t^e}},NOT:{type:"func",josi:[["の"]],fn:function(t){return~t}},SHIFT_L:{type:"func",josi:[["を"],["で"]],fn:function(t,e){return t<<e}},SHIFT_R:{type:"func",josi:[["を"],["で"]],fn:function(t,e){return t>>e}},SHIFT_UR:{type:"func",josi:[["を"],["で"]],fn:function(t,e){return t>>>e}},"文字数":{type:"func",josi:[["の"]],fn:function(t){return Array.from?Array.from(t).length:String(t).length}},"何文字目":{type:"func",josi:[["で","の"],["が"]],fn:function(t,e){return String(t).indexOf(e)+1}},CHR:{type:"func",josi:[["の"]],fn:function(t){return String.fromCodePoint?String.fromCodePoint(t):String.fromCharCode(t)}},ASC:{type:"func",josi:[["の"]],fn:function(t){return String.prototype.codePointAt?String(t).codePointAt(0):String(t).charCodeAt(0)}},"文字挿入":{type:"func",josi:[["で","の"],["に","へ"],["を"]],fn:function(t,e,n){e<=0&&(e=1);var r=String(t);return r.substr(0,e-1)+n+r.substr(e-1)}},"文字検索":{type:"func",josi:[["で","の"],["から"],["を"]],fn:function(t,e,n){var r=String(t),i=(r=r.substr(e)).indexOf(n);return-1===i?0:i+1+e}},"追加":{type:"func",josi:[["で","に","へ"],["を"]],fn:function(t,e){return String(t)+String(e)}},"一行追加":{type:"func",josi:[["で","に","へ"],["を"]],fn:function(t,e){return String(t)+String(e)+"\n"}},"文字列分解":{type:"func",josi:[["を","の","で"]],fn:function(t){return Array.from?Array.from(t):String(t).split("")}},"リフレイン":{type:"func",josi:[["を","の"],["で"]],fn:function(t,e){for(var n="",r=0;r<e;r++)n+=String(t);return n}},"出現回数":{type:"func",josi:[["で"],["の"]],fn:function(t,e){var n=0,r=new RegExp(e.replace(/(.)/g,"\\$1"),"g");return String(t).replace(r,(function(t){n++})),n}},MID:{type:"func",josi:[["で","の"],["から"],["を"]],fn:function(t,e,n){return n=n||void 0,String(t).substr(e-1,n)}},"文字抜出":{type:"func",josi:[["で","の"],["から"],["を",""]],fn:function(t,e,n){return n=n||void 0,String(t).substr(e-1,n)}},LEFT:{type:"func",josi:[["の","で"],["だけ"]],fn:function(t,e){return String(t).substr(0,e)}},"文字左部分":{type:"func",josi:[["の","で"],["だけ",""]],fn:function(t,e){return String(t).substr(0,e)}},RIGHT:{type:"func",josi:[["の","で"],["だけ"]],fn:function(t,e){return(t=""+t).substr(t.length-e,e)}},"文字右部分":{type:"func",josi:[["の","で"],["だけ",""]],fn:function(t,e){return(t=""+t).substr(t.length-e,e)}},"区切":{type:"func",josi:[["の","を"],["で"]],fn:function(t,e){return(""+t).split(""+e)}},"切取":{type:"func",josi:[["から","の"],["まで","を"]],fn:function(t,e){var n=(t=String(t)).indexOf(e);return n<0?t:t.substr(0,n)}},"文字削除":{type:"func",josi:[["の"],["から"],["だけ","を",""]],fn:function(t,e,n){return(t=""+t).substr(0,e-1)+t.substr(e-1+n)}},"置換":{type:"func",josi:[["の","で"],["を","から"],["に","へ"]],fn:function(t,e,n){return String(t).split(e).join(n)}},"単置換":{type:"func",josi:[["の","で"],["を"],["に","へ"]],fn:function(t,e,n){t=String(t);var r=new RegExp(e.replace(/(.)/g,"\\$1"),"");return t.replace(r,n)}},"トリム":{type:"func",josi:[["の","を"]],fn:function(t){return t=String(t).replace(/^\s+/,"").replace(/\s+$/,"")}},"空白除去":{type:"func",josi:[["の","を"]],fn:function(t){return t=String(t).replace(/^\s+/,"").replace(/\s+$/,"")}},"大文字変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).toUpperCase()}},"小文字変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).toLowerCase()}},"平仮名変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).replace(/[\u30a1-\u30f6]/g,(function(t){var e=t.charCodeAt(0)-96;return String.fromCharCode(e)}))}},"カタカナ変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).replace(/[\u3041-\u3096]/g,(function(t){var e=t.charCodeAt(0)+96;return String.fromCharCode(e)}))}},"英数全角変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).replace(/[A-Za-z0-9]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)+65248)}))}},"英数半角変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).replace(/[Ａ-Ｚａ-ｚ０-９]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}))}},"英数記号全角変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).replace(/[\x20-\x7F]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)+65248)}))}},"英数記号半角変換":{type:"func",josi:[["の","を"]],fn:function(t){return String(t).replace(/[\uFF00-\uFF5F]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}))}},"カタカナ全角変換":{type:"func",josi:[["の","を"]],fn:function(t,e){for(var n=e.__v0["全角カナ一覧"],r=e.__v0["半角カナ一覧"],i=e.__v0["全角カナ濁音一覧"],o=e.__v0["半角カナ濁音一覧"],c="",u=0;u<t.length;){var a=t.substr(u,2),s=o.indexOf(a);if(s>=0)c+=i.charAt(s/2),u+=2;else{var f=t.charAt(u),l=r.indexOf(f);l>=0?(c+=n.charAt(l),u++):(c+=f,u++)}}return c}},"カタカナ半角変換":{type:"func",josi:[["の","を"]],fn:function(t,e){var n=e.__v0["全角カナ一覧"],r=e.__v0["半角カナ一覧"],i=e.__v0["全角カナ濁音一覧"],o=e.__v0["半角カナ濁音一覧"];return t.split("").map((function(t){var e=n.indexOf(t);if(e>=0)return r.charAt(e);var c=i.indexOf(t);return c>=0?o.substr(2*c,2):t})).join("")}},"全角変換":{type:"func",josi:[["の","を"]],fn:function(t,e){var n=t;return n=e.__exec("カタカナ全角変換",[n,e]),n=e.__exec("英数記号全角変換",[n,e])}},"半角変換":{type:"func",josi:[["の","を"]],fn:function(t,e){var n=t;return n=e.__exec("カタカナ半角変換",[n,e]),n=e.__exec("英数記号半角変換",[n,e])}},"全角カナ一覧":{type:"const",value:"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンァィゥェォャュョッ、。ー「」"},"全角カナ濁音一覧":{type:"const",value:"ガギグゲゴザジズゼゾダヂヅデドバビブベボパピプペポ"},"半角カナ一覧":{type:"const",value:"ｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜｦﾝｧｨｩｪｫｬｭｮｯ､｡ｰ｢｣ﾞﾟ"},"半角カナ濁音一覧":{type:"const",value:"ｶﾞｷﾞｸﾞｹﾞｺﾞｻﾞｼﾞｽﾞｾﾞｿﾞﾀﾞﾁﾞﾂﾞﾃﾞﾄﾞﾊﾞﾋﾞﾌﾞﾍﾞﾎﾞﾊﾟﾋﾟﾌﾟﾍﾟﾎﾟ"},"JSONエンコード":{type:"func",josi:[["を","の"]],fn:function(t){return JSON.stringify(t)}},"JSONエンコード整形":{type:"func",josi:[["を","の"]],fn:function(t){return JSON.stringify(t,null,2)}},"JSONデコード":{type:"func",josi:[["を","の","から"]],fn:function(t){return JSON.parse(t)}},"正規表現マッチ":{type:"func",josi:[["を","が"],["で","に"]],fn:function(t,e,n){var r,i=e.match(/^\/(.+)\/([a-zA-Z]*)$/);r=null===i?new RegExp(e,"g"):new RegExp(i[1],i[2]);var o=n.__varslist[0]["抽出文字列"]=[],c=String(t).match(r),u=c;if(r.global);else if(c&&c.length>0){u=c[0];for(var a=1;a<c.length;a++)o[a-1]=c[a]}return u}},"抽出文字列":{type:"const",value:[]},"正規表現置換":{type:"func",josi:[["の"],["を","から"],["で","に","へ"]],fn:function(t,e,n){var r,i=e.match(/^\/(.+)\/([a-zA-Z]*)/);return r=null===i?new RegExp(e,"g"):new RegExp(i[1],i[2]),String(t).replace(r,n)}},"正規表現区切":{type:"func",josi:[["を"],["で"]],fn:function(t,e){var n,r=e.match(/^\/(.+)\/([a-zA-Z]*)/);return n=null===r?new RegExp(e,"g"):new RegExp(r[1],r[2]),String(t).split(n)}},"通貨形式":{type:"func",josi:[["を","の"]],fn:function(t){return String(t).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}},"ゼロ埋":{type:"func",josi:[["を"],["で"]],fn:function(t,e){t=String(t);for(var n="0",r=0;r<e;r++)n+="0";(e=parseInt(e))<t.length&&(e=t.length);var i=n+String(t);return i.substr(i.length-e,e)}},"空白埋":{type:"func",josi:[["を"],["で"]],fn:function(t,e){t=String(t);for(var n=" ",r=0;r<e;r++)n+=" ";(e=parseInt(e))<t.length&&(e=t.length);var i=n+String(t);return i.substr(i.length-e,e)}},"かなか判定":{type:"func",josi:[["を","の","が"]],fn:function(t){var e=String(t).charCodeAt(0);return e>=12353&&e<=12447}},"カタカナ判定":{type:"func",josi:[["を","の","が"]],fn:function(t){var e=String(t).charCodeAt(0);return e>=12449&&e<=12538}},"数字判定":{type:"func",josi:[["を","が"]],fn:function(t){var e=String(t).charAt(0);return e>="0"&&e<="9"||e>="０"&&e<="９"}},"数列判定":{type:"func",josi:[["を","が"]],fn:function(t){return null!==String(t).match(/^[0-9.]+$/)}},"配列結合":{type:"func",josi:[["を"],["で"]],fn:function(t,e){return t instanceof Array?t.join(""+e):String(t).split("\n").join(""+e)}},"配列検索":{type:"func",josi:[["の","から"],["を"]],fn:function(t,e){return t instanceof Array?t.indexOf(e):-1}},"配列要素数":{type:"func",josi:[["の"]],fn:function(t){return t instanceof Array?t.length:t instanceof Object?Object.keys(t).length:1}},"要素数":{type:"func",josi:[["の"]],fn:function(t,e){return e.__exec("配列要素数",[t])}},"配列挿入":{type:"func",josi:[["の"],["に","へ"],["を"]],fn:function(t,e,n){if(t instanceof Array)return t.splice(e,0,n);throw new Error("『配列挿入』で配列以外の要素への挿入。")}},"配列一括挿入":{type:"func",josi:[["の"],["に","へ"],["を"]],fn:function(t,e,n){if(t instanceof Array&&n instanceof Array){for(var r=0;r<n.length;r++)t.splice(e+r,0,n[r]);return t}throw new Error("『配列一括挿入』で配列以外の要素への挿入。")}},"配列ソート":{type:"func",josi:[["の","を"]],fn:function(t){if(t instanceof Array)return t.sort();throw new Error("『配列ソート』で配列以外が指定されました。")}},"配列数値ソート":{type:"func",josi:[["の","を"]],fn:function(t){if(t instanceof Array)return t.sort((function(t,e){return parseFloat(t)-parseFloat(e)}));throw new Error("『配列数値ソート』で配列以外が指定されました。")}},"配列カスタムソート":{type:"func",josi:[["で"],["の","を"]],fn:function(t,e,n){var r=t;if("string"==typeof t&&(r=n.__findFunc(t,"配列カスタムソート")),e instanceof Array)return e.sort(r);throw new Error("『配列カスタムソート』で配列以外が指定されました。")}},"配列逆順":{type:"func",josi:[["の","を"]],fn:function(t){if(t instanceof Array)return t.reverse();throw new Error("『配列ソート』で配列以外が指定されました。")}},"配列シャッフル":{type:"func",josi:[["の","を"]],fn:function(t){if(t instanceof Array){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}throw new Error("『配列シャッフル』で配列以外が指定されました。")}},"配列切取":{type:"func",josi:[["の"],["を"]],fn:function(t,e){if(t instanceof Array){var n=t.splice(e,1);return n instanceof Array?n[0]:null}throw new Error("『配列切取』で配列以外を指定。")}},"配列取出":{type:"func",josi:[["の"],["から"],["を"]],fn:function(t,e,n){if(t instanceof Array)return t.splice(e,n);throw new Error("『配列取出』で配列以外を指定。")}},"配列ポップ":{type:"func",josi:[["の","から"]],fn:function(t){if(t instanceof Array)return t.pop();throw new Error("『配列ポップ』で配列以外の処理。")}},"配列追加":{type:"func",josi:[["に","へ"],["を"]],fn:function(t,e){if(t instanceof Array)return t.push(e),t;throw new Error("『配列追加』で配列以外の処理。")}},"配列複製":{type:"func",josi:[["を"]],fn:function(t){return JSON.parse(JSON.stringify(t))}},"配列足":{type:"func",josi:[["に","へ","と"],["を"]],fn:function(t,e){return t instanceof Array?t.concat(e):JSON.parse(JSON.stringify(t))}},"配列最大値":{type:"func",josi:[["の"]],fn:function(t){return t.reduce((function(t,e){return Math.max(t,e)}))}},"配列最小値":{type:"func",josi:[["の"]],fn:function(t){return t.reduce((function(t,e){return Math.min(t,e)}))}},"表ソート":{type:"func",josi:[["の"],["を"]],fn:function(t,e){if(!t instanceof Array)throw new Error("『表ソート』には配列を指定する必要があります。");return t.sort((function(t,n){var r=t[e],i=n[e];return r===i?0:r<i?-1:1})),t}},"表数値ソート":{type:"func",josi:[["の"],["を"]],fn:function(t,e){if(!t instanceof Array)throw new Error("『表数値ソート』には配列を指定する必要があります。");return t.sort((function(t,n){return t[e]-n[e]})),t}},"表ピックアップ":{type:"func",josi:[["の"],["から"],["を","で"]],fn:function(t,e,n){if(!t instanceof Array)throw new Error("『表ピックアップ』には配列を指定する必要があります。");return t.filter((function(t){return String(t[e]).indexOf(n)>=0}))}},"表完全一致ピックアップ":{type:"func",josi:[["の"],["から"],["を","で"]],fn:function(t,e,n){if(!t instanceof Array)throw new Error("『表完全ピックアップ』には配列を指定する必要があります。");return t.filter((function(t){return t[e]==n}))}},"表検索":{type:"func",josi:[["の"],["で","に"],["から"],["を"]],fn:function(t,e,n,r){if(!t instanceof Array)throw new Error("『表検索』には配列を指定する必要があります。");for(var i=n;i<t.length;i++)if(t[i][e]===r)return i;return-1}},"表列数":{type:"func",josi:[["の"]],fn:function(t){if(!t instanceof Array)throw new Error("『表列数』には配列を指定する必要があります。");for(var e=1,n=0;n<t.length;n++)t[n].length>e&&(e=t[n].length);return e}},"表行数":{type:"func",josi:[["の"]],fn:function(t){if(!t instanceof Array)throw new Error("『表行数』には配列を指定する必要があります。");return t.length}},"表行列交換":{type:"func",josi:[["の","を"]],fn:function(t,e){if(!t instanceof Array)throw new Error("『表行列交換』には配列を指定する必要があります。");for(var n=e.__exec("表列数",[t]),r=t.length,i=[],o=0;o<n;o++){var c=[];i.push(c);for(var u=0;u<r;u++)c[u]=t[u][o]}return i}},"表右回転":{type:"func",josi:[["の","を"]],fn:function(t,e){if(!t instanceof Array)throw new Error("『表右回転』には配列を指定する必要があります。");for(var n=e.__exec("表列数",[t]),r=t.length,i=[],o=0;o<n;o++){var c=[];i.push(c);for(var u=0;u<r;u++)c[u]=t[r-u-1][o]}return i}},"表重複削除":{type:"func",josi:[["の"],["を","で"]],fn:function(t,e,n){if(!t instanceof Array)throw new Error("『表重複削除』には配列を指定する必要があります。");for(var r=[],i={},o=0;o<t.length;o++){var c=t[o][e];void 0===i[c]&&(i[c]=!0,r.push(t[o]))}return r}},"表列取得":{type:"func",josi:[["の"],["を"]],fn:function(t,e,n){if(!t instanceof Array)throw new Error("『表列取得』には配列を指定する必要があります。");return t.map((function(t){return t[e]}))}},"表列挿入":{type:"func",josi:[["の"],["に","へ"],["を"]],fn:function(t,e,n){if(!t instanceof Array)throw new Error("『表列挿入』には配列を指定する必要があります。");var r=[];return t.forEach((function(t,i){var o=[];e>0&&(o=o.concat(t.slice(0,e))),o.push(n[i]),o=o.concat(t.slice(e)),r.push(o)})),r}},"表列削除":{type:"func",josi:[["の"],["を"]],fn:function(t,e){if(!t instanceof Array)throw new Error("『表列削除』には配列を指定する必要があります。");var n=[];return t.forEach((function(t,r){var i=t.slice(0);i.splice(e,1),n.push(i)})),n}},"表列合計":{type:"func",josi:[["の"],["を","で"]],fn:function(t,e){if(!t instanceof Array)throw new Error("『表列合計』には配列を指定する必要があります。");var n=0;return t.forEach((function(t){return n+=t[e]})),n}},"表曖昧検索":{type:"func",josi:[["の"],["から"],["で"],["を"]],fn:function(t,e,n,r){if(!t instanceof Array)throw new Error("『表曖昧検索』には配列を指定する必要があります。");for(var i=new RegExp(r),o=0;o<t.length;o++){var c=t[o];if(i.test(c[n]))return o}return-1}},"表正規表現ピックアップ":{type:"func",josi:[["の","で"],["から"],["を"]],fn:function(t,e,n){if(!t instanceof Array)throw new Error("『表正規表現ピックアップ』には配列を指定する必要があります。");for(var r=new RegExp(n),i=[],o=0;o<t.length;o++){var c=t[o];r.test(c[e])&&i.push(c.slice(0))}return i}},"ハッシュキー列挙":{type:"func",josi:[["の"]],fn:function(t){var e=[];if(t instanceof Array){for(var n=0;n<t.length;n++)e.push(n);return e}if(t instanceof Object){for(var r in t)e.push(r);return e}throw new Error("『ハッシュキー列挙』でハッシュ以外が与えられました。")}},"ハッシュ内容列挙":{type:"func",josi:[["の"]],fn:function(t){var e=[];if(t instanceof Object){for(var n in t)e.push(t[n]);return e}throw new Error("『ハッシュ内容列挙』でハッシュ以外が与えられました。")}},"ハッシュキー削除":{type:"func",josi:[["から","の"],["を"]],fn:function(t,e){if(t instanceof Object)return t[e]&&delete t[e],t;throw new Error("『ハッシュキー削除』でハッシュ以外が与えられました。")}},"ハッシュキー存在":{type:"func",josi:[["の","に"],["が"]],fn:function(t,e){return e in t}},"秒待機":{type:"func",josi:[[""]],fn:function(t,e){if(void 0===e.resolve)throw new Error("『秒待機』命令は『逐次実行』構文と一緒に使ってください。");var n=e.resolve;e.resolveCount++,setTimeout((function(){n()}),1e3*t)}},"秒後":{type:"func",josi:[["を"],[""]],fn:function(t,e,n){"string"==typeof t&&(t=n.__findFunc(t,"秒後"));var r=setTimeout((function(){var e=n.__timeout.indexOf(r);e>=0&&n.__timeout.splice(e,1),t(r,n)}),1e3*parseFloat(e));return n.__timeout.unshift(r),r}},"秒毎":{type:"func",josi:[["を"],[""]],fn:function(t,e,n){"string"==typeof t&&(t=n.__findFunc(t,"秒毎"));var r=setInterval((function(){t(r,n)}),1e3*parseFloat(e));return n.__interval.unshift(r),r}},"秒タイマー開始時":{type:"func",josi:[["を"],[""]],fn:function(t,e,n){return n.__exec("秒毎",[t,e,n])}},"タイマー停止":{type:"func",josi:[["の","で"]],fn:function(t,e){var n=e.__interval.indexOf(t);if(n>=0)return e.__interval.splice(n,1),clearInterval(t),!0;var r=e.__timeout.indexOf(t);return r>=0&&(e.__timeout.splice(r,1),clearTimeout(t),!0)},return_none:!1},"全タイマー停止":{type:"func",josi:[],fn:function(t){for(var e=0;e<t.__interval.length;e++){var n=t.__interval[e];clearInterval(n)}t.__interval=[];for(var r=0;r<t.__timeout.length;r++){var i=t.__timeout[r];clearTimeout(i)}t.__timeout=[]},return_none:!0},"今":{type:"func",josi:[],fn:function(){var t=function(t){return(t="00"+t).substr(t.length-2,2)},e=new Date;return t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())}},"システム時間":{type:"func",josi:[],fn:function(){return(new Date).getTime()/1e3}},"今日":{type:"func",josi:[],fn:function(){var t=function(t){return(t="00"+t).substr(t.length-2,2)},e=new Date;return t(e.getFullYear())+"/"+t(e.getMonth()+1)+"/"+t(e.getDate())}},"曜日番号取得":{type:"func",josi:[["の"]],fn:function(t){var e=t.split("/");return new Date(e[0],e[1]-1,e[2]).getDay()}},"エラー発生":{type:"func",josi:[["の","で"]],fn:function(t){throw new Error(t)}},"システム関数一覧取得":{type:"func",josi:[],fn:function(t){var e=[];for(var n in t.__v0){"function"==typeof t.__v0[n]&&e.push(n)}return e}},"システム関数存在":{type:"func",josi:[["が","の"]],fn:function(t,e){return void 0!==e.__v0[t]}},"プラグイン一覧取得":{type:"func",josi:[],fn:function(t){var e=[];for(var n in t.pluginfiles)e.push(n);return e}},"モジュール一覧取得":{type:"func",josi:[],fn:function(t){var e=[];for(var n in t.__module)e.push(n);return e}},"URLエンコード":{type:"func",josi:[["を","から"]],fn:function(t){return encodeURIComponent(t)}},"URLデコード":{type:"func",josi:[["を","へ","に"]],fn:function(t){return decodeURIComponent(t)}},"URLパラメータ解析":{type:"func",josi:[["を","の","から"]],fn:function(t,e){var n={};if("string"!=typeof t)return n;var r=t.split("?");if(r.length<=1)return n;var i,o=_createForOfIteratorHelper(r[1].split("&"));try{for(o.s();!(i=o.n()).done;){var c=(i.value+"=").split("=");n[e.__exec("URLデコード",[c[0]])]=e.__exec("URLデコード",[c[1]])}}catch(t){o.e(t)}finally{o.f()}return n}}};module.exports=PluginSystem},function(t,e,n){var r=n(5),i=n(12),o=n(48);r({target:"Object",stat:!0,forced:n(2)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){n(181),n(182);var r={"初期化":{type:"func",josi:[],fn:function(t){}},SIN:{type:"func",josi:[["の"]],fn:function(t){return Math.sin(t)}},COS:{type:"func",josi:[["の"]],fn:function(t){return Math.cos(t)}},TAN:{type:"func",josi:[["の"]],fn:function(t){return Math.tan(t)}},ARCSIN:{type:"func",josi:[["の"]],fn:function(t){return Math.asin(t)}},ARCCOS:{type:"func",josi:[["の"]],fn:function(t){return Math.acos(t)}},ARCTAN:{type:"func",josi:[["の"]],fn:function(t){return Math.atan(t)}},RAD2DEG:{type:"func",josi:[["を"]],fn:function(t){return t/Math.PI*180}},DEG2RAD:{type:"func",josi:[["を"]],fn:function(t){return t/180*Math.PI}},"度変換":{type:"func",josi:[["を"]],fn:function(t){return t/Math.PI*180}},"ラジアン変換":{type:"func",josi:[["を"]],fn:function(t){return t/180*Math.PI}},SIGN:{type:"func",josi:[["の"]],fn:function(t){return 0===parseFloat(t)?0:t>0?1:-1}},"符号":{type:"func",josi:[["の"]],fn:function(t,e){return e.__exec("SIGN",[t])}},ABS:{type:"func",josi:[["の"]],fn:function(t){return Math.abs(t)}},"絶対値":{type:"func",josi:[["の"]],fn:function(t){return Math.abs(t)}},EXP:{type:"func",josi:[["の"]],fn:function(t){return Math.exp(t)}},HYPOT:{type:"func",josi:[["と"],["の"]],fn:function(t,e){return Math.hypot(t,e)}},"斜辺":{type:"func",josi:[["と"],["の"]],fn:function(t,e){return Math.hypot(t,e)}},LN:{type:"func",josi:[["の"]],fn:function(t){return Math.log(t)}},LOG:{type:"func",josi:[["の"]],fn:function(t){return Math.log(t)}},LOGN:{type:"func",josi:[["で"],["の"]],fn:function(t,e){return 2===t?Math.LOG2E*Math.log(e):10===t?Math.LOG10E*Math.log(e):Math.log(e)/Math.log(t)}},FRAC:{type:"func",josi:[["の"]],fn:function(t){return t%1}},"小数部分":{type:"func",josi:[["の"]],fn:function(t){return t%1}},"整数部分":{type:"func",josi:[["の"]],fn:function(t){return Math.trunc(t)}},"乱数":{type:"func",josi:[["の"]],fn:function(t){return Math.floor(Math.random()*t)}},SQRT:{type:"func",josi:[["の"]],fn:function(t){return Math.sqrt(t)}},"平方根":{type:"func",josi:[["の"]],fn:function(t){return Math.sqrt(t)}},ROUND:{type:"func",josi:[["を"]],fn:function(t){return Math.round(t)}},"四捨五入":{type:"func",josi:[["を","の"]],fn:function(t){return Math.round(t)}},"小数点切上":{type:"func",josi:[["を"],["で"]],fn:function(t,e){var n=Math.pow(10,e);return Math.ceil(t*n)/n}},"小数点切下":{type:"func",josi:[["を"],["で"]],fn:function(t,e){var n=Math.pow(10,e);return Math.floor(t*n)/n}},"小数点四捨五入":{type:"func",josi:[["を"],["で"]],fn:function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}},CEIL:{type:"func",josi:[["を"]],fn:function(t){return Math.ceil(t)}},"切上":{type:"func",josi:[["を"]],fn:function(t){return Math.ceil(t)}},FLOOR:{type:"func",josi:[["を"]],fn:function(t){return Math.floor(t)}},"切捨":{type:"func",josi:[["を"]],fn:function(t){return Math.floor(t)}}};t.exports=r},function(t,e,n){var r=n(5),i=Math.hypot,o=Math.abs,c=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,u=0,a=arguments.length,s=0;u<a;)s<(n=o(arguments[u++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*c(i)}})},function(t,e,n){var r=n(5),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:i)(t)}})},function(t,e,n){var r={"ASSERT等":{type:"func",josi:[["と"],["が"]],fn:function(t,e,r){n(142).strictEqual(t,e)}},"テスト実行":{type:"func",josi:[["と"],["で"]],fn:function(t,e,r){n(142).strictEqual(t,e)}},"テスト等しい":{type:"func",josi:[["と"],["が"]],fn:function(t,e,r){n(142).strictEqual(t,e)}}};t.exports=r},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!d(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,c=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<o;a=r[++n])y(a)||!b(a)?c+=" "+a:c+=" "+u(a);return c},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,c={};function u(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),f(r,t,r.depth)}function a(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function s(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&j(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return d(i)||(i=f(t,i,r)),i}var o=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(d(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(g(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(o)return o;var c=Object.keys(n),u=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(c);if(t.showHidden&&(c=Object.getOwnPropertyNames(n)),k(n)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return l(n);if(0===c.length){if(j(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return l(n)}var s,b="",S=!1,x=["{","}"];(p(n)&&(S=!0,x=["[","]"]),j(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),k(n)&&(b=" "+l(n)),0!==c.length||S&&0!=n.length?r<0?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),s=S?function(t,e,n,r,i){for(var o=[],c=0,u=e.length;c<u;++c)A(e,String(c))?o.push(h(t,e,n,r,String(c),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))})),o}(t,n,r,u,c):c.map((function(e){return h(t,n,r,u,e,S)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(s,b,x)):x[0]+b+x[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var c,u,a;if((a=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(u=t.stylize("[Setter]","special")),A(r,i)||(c="["+i+"]"),u||(t.seen.indexOf(a.value)<0?(u=y(n)?f(t,a.value,null):f(t,a.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),_(c)){if(o&&i.match(/^\d+$/))return u;(c=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=t.stylize(c,"string"))}return c+": "+u}function p(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return"number"==typeof t}function d(t){return"string"==typeof t}function _(t){return void 0===t}function m(t){return b(t)&&"[object RegExp]"===S(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===S(t)}function k(t){return b(t)&&("[object Error]"===S(t)||t instanceof Error)}function j(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(_(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!c[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;c[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else c[n]=function(){};return c[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=v,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=d,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=m,e.isObject=b,e.isDate=w,e.isError=k,e.isFunction=j,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(185);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",E(),e.format.apply(e,arguments))},e.inherits=n(186),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!=typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=P,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,c=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(c,null,e)}),(function(e){t.nextTick(T,e,c)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(164))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(115),n(96),n(20),n(84),n(30),n(122),n(149),n(31),n(111),n(34);var i=function(){"use strict";function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nako3=e,this.reset()}var e,n,i;return e=t,(n=[{key:"reset",value:function(){this.fileset=new Set,this.pluginlist=[]}},{key:"affectRequire",value:function(t,e,n,r){for(var i=0,o=0,c=t.length,u=!1,a=[];i+2<c;){if("not"===t[i].type){var s=t[i+1];if(("string"===s.type||"string_ex"===s.type)&&"取込"===t[i+2].value){var f=s.value;a.push(t.slice(o,i));var l=n(f,e);if(!1!==l&&!this.fileset.has(l)){this.fileset.add(l);var h=r(l);a.push(h),h instanceof Promise&&(u=!0)}o=i+=3;continue}}i++}if(0===o)return t;if(a.push(t.slice(o)),u)return new Promise((function(t,e){Promise.all(a).then((function(e){var n=[];e.forEach((function(t){n=n.concat(t)})),t(n)})).catch((function(t){e(t)}))}));var p=[];return a.forEach((function(t){p=p.concat(t)})),p}},{key:"isNako3",value:function(t){return/\.nako3?(\.txt)?$/.test(t)}},{key:"isPlugin",value:function(t){return/\.js(\.txt)?$/.test(t)}},{key:"resolveNako3Basic",value:function(t,e){if(this.isPlugin(t))return this.pluginlist.push(t),!1;if(this.isNako3(t))return t;throw new Error("[取込エラー] 扱いが不明なため『"+t+"』を取り込めません。")}},{key:"resolveNako3forNodejs",value:function(t,e){return/\./.test(t)?this.resolveNako3Basic(t,e):(this.pluginlist.push(t),!1)}},{key:"resolveNako3forBrowser",value:function(t,e){return this.resolveNako3Basic(t,e)}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i},function(t,e,n){n(30),n(52),t.exports={"水色":{type:"const",value:"aqua"},"紫色":{type:"const",value:"fuchsia"},"緑色":{type:"const",value:"lime"},"青色":{type:"const",value:"blue"},"赤色":{type:"const",value:"red"},"黄色":{type:"const",value:"yellow"},"黒色":{type:"const",value:"black"},"白色":{type:"const",value:"white"},"茶色":{type:"const",value:"maroon"},"灰色":{type:"const",value:"gray"},"金色":{type:"const",value:"gold"},"黄金色":{type:"const",value:"gold"},"銀色":{type:"const",value:"silver"},"白金色":{type:"const",value:"silver"},"オリーブ色":{type:"const",value:"olive"},"ベージュ色":{type:"const",value:"beige"},"アリスブルー色":{type:"const",value:"aliceblue"},RGB:{type:"func",josi:[["と"],["と"],["で","の"]],fn:function(t,e,n){var r=function(t){var e="00"+t.toString(16);return e.substr(e.length-2,2)};return"#"+r(t)+r(e)+r(n)},return_none:!1},"色混":{type:"func",josi:[["の"]],fn:function(t){var e=function(t){var e="00"+t.toString(16);return e.substr(e.length-2,2)};if(!t)throw new Error("『色混ぜる』の引数には配列を指定します");if(t.length<3)throw new Error("『色混ぜる』の引数には[RR,GG,BB]形式の配列を指定します");return"#"+e(t[0])+e(t[1])+e(t[2])},return_none:!1}}},function(t,e,n){n(89),n(30),n(122),t.exports={"AJAX送信時":{type:"func",josi:[["の"],["まで","へ","に"]],fn:function(t,e,n){var r=n.__v0["AJAXオプション"];""===r&&(r={method:"GET"}),fetch(e,r).then((function(t){return t.text()})).then((function(e){n.__v0["対象"]=e,t(e)})).catch((function(t){console.log("[fetch.error]",t),n.__v0["AJAX:ONERROR"](t)}))},return_none:!0},"GET送信時":{type:"func",josi:[["の"],["まで","へ","に"]],fn:function(t,e,n){n.__exec("AJAX送信時",[t,e,n])},return_none:!0},"POSTデータ生成":{type:"func",josi:[["の","を"]],fn:function(t,e){var n=[];for(var r in t){var i=t[r],o=encodeURIComponent(r)+"="+encodeURIComponent(i);n.push(o)}return n.join("&")}},"POST送信時":{type:"func",josi:[["の"],["まで","へ","に"],["を"]],fn:function(t,e,n,r){var i=r.__exec("POSTデータ生成",[n,r]);console.log("bodyData=",i),fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then((function(t){return t.text()})).then((function(e){r.__v0["対象"]=e,t(e)})).catch((function(t){r.__v0["AJAX:ONERROR"](t)}))}},"POSTフォーム送信時":{type:"func",josi:[["の"],["まで","へ","に"],["を"]],fn:function(t,e,n,r){var i=new FormData;for(var o in n)i.set(o,n[o]);fetch(e,{method:"POST",body:i}).then((function(t){return t.text()})).then((function(e){r.__v0["対象"]=e,t(e)})).catch((function(t){r.__v0["AJAX:ONERROR"](t)}))}},"AJAX失敗時":{type:"func",josi:[["の"]],fn:function(t,e){e.__v0["AJAX:ONERROR"]=t}},"AJAXオプション":{type:"const",value:""},"AJAXオプション設定":{type:"func",josi:[["に","へ","と"]],fn:function(t,e){e.__v0["AJAXオプション"]=t},return_none:!0},"AJAX送信":{type:"func",josi:[["まで","へ","に"]],fn:function(t,e){if(!e.resolve)throw new Error("『AJAX送信』は『逐次実行』構文内で利用する必要があります。");e.resolveCount++;var n=e.resolve,r=e.__v0["AJAXオプション"];""===r&&(r={method:"GET"}),fetch(t,r).then((function(t){return t.text()})).then((function(t){e.__v0["対象"]=t,n()})).catch((function(t){console.error("[fetch.error]",t),e.__v0["AJAX:ONERROR"](t)}))},return_none:!0},"HTTP取得":{type:"func",josi:[["の","から","を"]],fn:function(t,e){if(!e.resolve)throw new Error("『HTTP取得』は『逐次実行』構文内で利用する必要があります。");e.__exec("AJAX送信",[t,e])},return_none:!0},"POST送信":{type:"func",josi:[["まで","へ","に"],["を"]],fn:function(t,e,n){if(!n.resolve)throw new Error("『POST送信』は『逐次実行』構文内で利用する必要があります。");n.resolveCount++;var r=n.resolve,i=n.__exec("POSTデータ生成",[e,n]);fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i}).then((function(t){return t.text()})).then((function(t){n.__v0["対象"]=t,r(t)})).catch((function(t){console.error("[fetch.error]",t),n.__v0["AJAX:ONERROR"](t)}))}},"POSTフォーム送信":{type:"func",josi:[["まで","へ","に"],["を"]],fn:function(t,e,n){if(!n.resolve)throw new Error("『POSTフォーム送信』は『逐次実行』構文内で利用する必要があります。");n.resolveCount++;var r=n.resolve,i=new FormData;for(var o in e)i.set(o,e[o]);fetch(t,{method:"POST",body:i}).then((function(t){return t.text()})).then((function(t){n.__v0["対象"]=t,r(t)})).catch((function(t){console.error("[fetch.error]",t),n.__v0["AJAX:ONERROR"](t)}))}}}},function(t,e,n){n(46),n(102),t.exports={"HTML変換":{type:"func",josi:[["を"]],fn:function(t){return String(t).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}}}},function(t,e){t.exports={"WS接続完了時":{type:"func",josi:[["を"]],fn:function(t,e){e.__v0["WS:ONOPEN"]=t},return_none:!0},"WS受信時":{type:"func",josi:[["を"]],fn:function(t,e){e.__v0["WS:ONMESSAGE"]=t},return_none:!0},"WSエラー発生時":{type:"func",josi:[["を"]],fn:function(t,e){e.__v0["WS:ONERROR"]=t},return_none:!0},"WS接続":{type:"func",josi:[["に","へ","の"]],fn:function(t,e){var n=new WebSocket(t);return n.onopen=function(){var t=e.__v0["WS:ONOPEN"];t&&t(e)},n.onerror=function(t){var n=e.__v0["WS:ONERROR"];n&&n(t,e),console.log("WSエラー",t)},n.onmessage=function(t){e.__v0["対象"]=t.data;var n=e.__v0["WS:ONMESSAGE"];n&&n(e)},e.__v0["WS:SOCKET"]=n,n}},"WS送信":{type:"func",josi:[["を","と"]],fn:function(t,e){e.__v0["WS:SOCKET"].send(t)}},"WS切断":{type:"func",josi:[],fn:function(t){t.__v0["WS:SOCKET"].close()}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(228)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(36),n(38),n(39),n(96),n(20),n(88),n(103),n(30),n(122),n(106),n(52),n(31),n(111),n(34);var f=n(168),l=n(187),h=n(229),p=n(230),v=function(t){"use strict";!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,n,r,f,h=(e=p,function(){var t,n=a(e);if(u()){var r=a(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function p(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(t=h.call(this)).__varslist[0]["ナデシコ種類"]="wwnako3",t.beforeParseCallback=t.beforeParse,t.requireHelper=new l(c(t)),t.ondata=function(t,e){},t}return n=p,(r=[{key:"requireNako3",value:function(t,e,n){var r=this;return this.requireHelper.affectRequire(t,e,this.requireHelper.resolveNako3forBrowser.bind(this.requireHelper),(function t(e){return new Promise((function(i,o){fetch(e,{mode:"no-cors"}).then((function(t){if(t.ok)return t.text();o(new Error("fail load nako3(".concat(e,")")))})).then((function(o){var c=n.rawtokenize(o,0,e);i(r.requireHelper.affectRequire(c,e,r.requireHelper.resolveNako3forBrowser.bind(r.requireHelper),t))})).catch((function(t){o(t)}))}))}))}},{key:"requirePlugin",value:function(t,e){if(this.requireHelper.pluginlist.length>0){e.funclist;var n=this.requireHelper.pluginlist;return new Promise((function(e,r){var i=[];n.forEach((function(t){i.push(new Promise((function(e,n){fetch(t,{mode:"no-cors"}).then((function(e){if(e.ok)return e.text();n(new Error("fail load plugin(".concat(t,")")))})).then((function(t){e(t)})).catch((function(t){n(t)}))})))})),Promise.all(i).then((function(n){n.forEach((function(t){/navigator\.nako3\.addPluginObject/.test(t)?window.eval(t):/module\.exports\s*=/.test(t)?r(new Error("no suppout type plugin(commonjs)")):r(new Error("no suppout type plugin(unknown)"))})),e(t)})).catch((function(t){r(t)}))}))}return t}},{key:"beforeParse",value:function(t){var e=this,n=t.tokens,r=t.nako3,i=t.filepath;this.requireHelper.reset();var o=this.requireNako3(n,i,r);return o instanceof Promise?new Promise((function(t,n){o.then((function(n){t(e.requirePlugin(n,r))})).catch((function(t){n(t)}))})):this.requirePlugin(o,r)}}])&&i(n.prototype,r),f&&i(n,f),p}(f);if("object"===("undefined"==typeof navigator?"undefined":r(navigator))&&self&&self instanceof WorkerGlobalScope){var y=navigator.nako3=new v;y.addPluginObject("PluginBrowserInWorker",h),y.addPluginObject("PluginWorker",p),self.onmessage=function(t){var e=navigator.nako3,n=t.data||{type:"",data:""},r=n.type||"",i=n.data||"";switch(r){case"reset":e.reset();break;case"close":self.close();break;case"run":e.runEx(i,void 0,{resetEnv:!1,resetLog:!1});break;case"trans":i.forEach((function(t){"func"===t.type?(e.gen.nako_func[t.name]=t.content.meta,e.funclist[t.name]=t.content.func,e.__varslist[1][t.name]=function(){}):"val"===t.type&&(e.__varslist[2][t.name]=t.content)}));break;case"data":e.ondata&&e.ondata.apply(e,[i,t])}}}},function(t,e,n){n(96),n(137),n(111);var r=n(188),i=n(189),o=n(190),c=n(191),u={"初期化":{type:"func",josi:[],fn:function(t){"undefined"==typeof self&&(self={}),"undefined"==typeof navigator&&(navigator={}),t.__v0["AJAX:ONERROR"]=function(t){console.log(t)},t.__v0.SELF=self,t.__v0.NAVIGATOR=navigator}}};[r,i,o,c].forEach((function(t){var e={};Object.assign(e,t),void 0!==e["初期化"]&&delete e["初期化"],Object.assign(u,e)})),t.exports=u},function(t,e){var n={"初期化":{type:"func",josi:[],fn:function(t){t.__v0.SELF=self||{},t.__v0["依頼主"]=self||{}}},"対象イベント":{type:"const",value:""},"受信データ":{type:"const",value:""},SELF:{type:"const",value:""},"依頼主":{type:"const",value:""},"NAKOワーカーデータ受信時":{type:"func",josi:[["で"]],fn:function(t,e){t=e.__findVar(t,null),e.ondata=function(n,r){return e.__v0["受信データ"]=n,e.__v0["対象イベント"]=r,t(r,e)}},return_none:!0},"ワーカーメッセージ受信時":{type:"func",josi:[["で"]],fn:function(t,e){t=e.__findVar(t,null),self.onmessage=function(n){return e.__v0["受信データ"]=n.data,e.__v0["対象イベント"]=n,t(n,e)}},return_none:!0},"NAKOワーカーデータ送信":{type:"func",josi:[["を"]],fn:function(t,e){postMessage({type:"data",data:t})},return_none:!0},"ワーカーメッセージ送信":{type:"func",josi:[["を"]],fn:function(t,e){postMessage(t)},return_none:!0},"表示":{type:"func",josi:[["を"]],fn:function(t,e){postMessage({type:"output",data:t})},return_none:!0},"終了":{type:"func",josi:[],fn:function(t){close()},return_none:!0}};t.exports=n}]);